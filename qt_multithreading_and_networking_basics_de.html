<span class = "content_title"> <a href="#/cpp"> C++</a> / <span class = "content_title_current">Qt multithreading and networking basics</span> </span>
<hr/>
<br/>

<div>
&emsp;<a class="external_link" target="_blank" href="https://www.qt.io/" >Qt</a> ist ein sehr umfangreich und kraftvoll Framework für eine große Auswahl von Anwendungen, das basiert auf C++. Es ist oft die angebotene Antfort auf die Fragen wie "Was sollte ich nutzen, um eine GUI in C++ zu erstellen?" oder "Gibt es eine gute Anwendungsbibliothek für die Vernetzung in C++?". Eine wichtige Sache ist, dass wir mit Qt einen portablen Code kreieren können und es hat eine sehr gute Dokumentation und breite Gemeinde, die ist immer bereit zu helfen. Qt bietet auch die <a class="external_link" target="_blank" href="https://doc.qt.io/qtcreator/" >Qt Creator</a> Entwicklungsumgebung an, die auch großartig und wenn mit Qt arbeiten zu empfehlen ist, um vollständig zu das Qt-Ökosystem eintreten.<br/>
Ich habe die gleiche Entscheidung getroffen, als ich mich für Zusammenarbeit mit Qt für das GUI-Design entschieden habe und ich habe beschlossen, die <a class="internal_link" target="_blank" href="#/winhttp_api">
WinHttp</a> Funktionalität mit der <a class="external_link" target="_blank" href="https://doc.qt.io/qt-6/qtnetwork-index.html" >Qt Network</a> Bibliothek neu zu erstellen. Mein Plan für dies wurde schon im WinHttp Artikel erwähnt, um eine Anwendung für die Verbindung mit Binance Kryptobörse entwerfen und die untere Darstellung ist ein kräftiger Entwurf für vollständiges functionales Multithread-Programm mit eine Netzwerklösung.<br/>
Weil Qt ein voll funktionelles Framework für eine Vielzahl von Zwecken ist, eine von seiner Hauptklassen ist definitiv die QObject und es ist sicher, dass der Benutzer schließlich darauf stößt, weil viele Klassen von sie erben. Mit diesem Thema ist <span class="code_quote">Q_OBJECT</span> Macro streng verbunden, als in der <a class="external_link" target="_blank" href="https://doc.qt.io/qt-6/qobject.html#Q_OBJECT">Dokumentation</a>:<br/>
<span class="quote">Das QOBJECT-Makro muss im privaten Abschnitt einer Klassendefinition erscheinen, die ihre eigenen Signale und Slots erklärt oder andere Dienstleistungen nutzt, die vom Meta-Objekt-System von Qt bereitgestellt werden.</span><br/>
Auch die <span class="code_quote">QApplication</span> Klasse, die nutzen wir im <span class="quote">main.cpp</span> ist keine Ausnahme, ihr Klassenvererbungspfad geht so:<br/>
<span class="quote">QApplication -> QGuiApplication -> QCoreApplication -> QObject</span>.<br/>

<div class = "code_short"><span class="sc9">#include "binRaider.h"
#include &lt;QApplication&gt;
</span><span class="sc0">
</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">main</span><span class="sc10">(</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">argc</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">char</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc11">argv</span><span class="sc10">[])</span><span class="sc0">
</span><span class="sc10">{</span><span class="sc0">
    </span><span class="sc11">QApplication</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc10">(</span><span class="sc11">argc</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">argv</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">binRaider</span><span class="sc0"> </span><span class="sc11">w</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">w</span><span class="sc10">.</span><span class="sc11">show</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc5">return</span><span class="sc0"> </span><span class="sc11">a</span><span class="sc10">.</span><span class="sc11">exec</span><span class="sc10">();</span><span class="sc0">
</span><span class="sc10">}</span>
</div>

Wir nutzen die QApplication Klasse, die die komplett Funktionalität für <a class="external_link" target="_blank" href="https://doc.qt.io/qt-6/qwidget.html">QWidget</a>-Basiert Anwendungen bietet, aber wir nutzen sie nur um das Programm mit der <span class="code">exec()</span> Funktion zu starten und bevor nutzen wir die binRaider Klasse, die haupt ist, mit die <span class="code">show()</span> Funktion - diese Klasse erbt von der <a class="external_link" target="_blank" href="https://doc.qt.io/qt-6/qmainwindow.html">QMainWindow</a> im publik Modus und QMainWindow von der QWidget - deshalb müssen wir den QWidget Zeigerargument im Konstruktor definieren, aber zum Glück Qt tut das automatisch für uns, den Klassendestruktor auch.
Alles ist sichtbar in der <span class="quote">binRaider.h</span> Header-Datei unten:<br/>

<br/>
<button id="changeCodeHeightBtn_id_1" onclick="change_code_height('1')" style="float:right; width:100px;">100% height</button>
<br/>

<div id="code_id_1"  class="code_long"><span class="sc9">#ifndef BINRAIDER_H
#define BINRAIDER_H
</span><span class="sc0">
</span><span class="sc9">#include &lt;QMainWindow&gt;
#include &lt;QtWidgets/QTableWidget&gt;
#include &lt;QtCharts&gt;
#include &lt;binConThreadWorker.h&gt;
</span><span class="sc0">
</span><span class="sc11">QT_BEGIN_NAMESPACE</span><span class="sc0">
</span><span class="sc5">namespace</span><span class="sc0"> </span><span class="sc11">Ui</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0"> </span><span class="sc16">class</span><span class="sc0"> </span><span class="sc11">binRaider</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc10">}</span><span class="sc0">
</span><span class="sc11">QT_END_NAMESPACE</span><span class="sc0">

</span><span class="sc16">class</span><span class="sc0"> </span><span class="sc11">binRaider</span><span class="sc0"> </span><span class="sc10">:</span><span class="sc0"> </span><span class="sc16">public</span><span class="sc0"> </span><span class="sc11">QMainWindow</span><span class="sc0">
</span><span class="sc10">{</span><span class="sc0">

</span><span class="sc16">public</span><span class="sc10">:</span><span class="sc0">
    </span><span class="sc11">binRaider</span><span class="sc10">(</span><span class="sc11">QWidget</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc11">parent</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">nullptr</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc10">~</span><span class="sc11">binRaider</span><span class="sc10">();</span><span class="sc0">

</span><span class="sc16">private</span><span class="sc10">:</span><span class="sc0">
    </span><span class="sc11">Q_OBJECT</span><span class="sc0">
    </span><span class="sc11">Ui</span><span class="sc10">::</span><span class="sc11">binRaider</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc11">ui</span><span class="sc10">;</span><span class="sc0">

    </span><span class="sc11">QTableWidget</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">m_table</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">QThread</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">mThread</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc11">mThreadTrader1</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc11">mThreadTrader2</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc11">mThreadTrader3</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc11">mThreadTrader4</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">binConThreadWorker</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">worker</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc11">workerTrader1</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc11">workerTrader2</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc11">workerTrader3</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc11">workerTrader4</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">isFreemThreadTrader1</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">isFreemThreadTrader2</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">isFreemThreadTrader3</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">isFreemThreadTrader4</span><span class="sc10">;</span><span class="sc0">


</span><span class="sc16">private</span><span class="sc0"> </span><span class="sc11">slots</span><span class="sc10">:</span><span class="sc0">
    </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">onValueChanged</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">onValueSecChanged</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">onStartTrade</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">on_actionGetWallet_triggered</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">on_pushButton_candlesPrint_clicked</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">on_pushButton_autobotStart_clicked</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">on_pushButton_clear_clicked</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">on_pushButton_stop_clicked</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">freemThreadTrader1</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">freemThreadTrader2</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">freemThreadTrader3</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">freemThreadTrader4</span><span class="sc10">();</span><span class="sc0">

</span><span class="sc11">signals</span><span class="sc10">:</span><span class="sc0">
    </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">on_process_startTrader1</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">on_process_startTrader2</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">on_process_startTrader3</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">on_process_startTrader4</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">);</span><span class="sc0">
</span><span class="sc10">};</span><span class="sc0">
</span><span class="sc9">#endif </span><span class="sc2">// BINRAIDER_H
</span></div>


Auch der Ui Namensraum und der <span class="code_quote"> Ui::binRaider *ui</span> Zeiger sind für uns erstellt, wenn wir ein neues Projekt starten, es ist sehr wichtig, weil wie mit der GUI kommunizieren und alle Änderungen machen oder GUI-Objekte-Status erhalten und Variablen aktualisieren können. Wir haben hierher nicht nur Anfängliche Grundvariablen, Direktiven und Deklarationen aber ich habe auch die Dinge meines Projekten deklariert. Wie bereits erwähnt, können wir uns die Slots notieren, zu die erhalten wir eine Daten oder wir können einfach sie aufrufen (z.B. wegen der angeklickten Schaltfläche, die das Signal gesendet hat), da sie einfach Void-Funktionen sind und wir haben die Signals, die wir zur GUI oder anderen Slots im Backend senden können.<br/>
Die Header-Datei führt uns zur Quelle, die die binRaider.cpp Datei ist. Sie erweitert den ganzen Inhalt, einschließelich die Funktionen die Multithread-Aufgaben erledigen und den Netzwerkteil nutzen, hier ist eine kurze Beschreibung aller von ihnen:<br/>
- <span class="code_quote">void binRaider::on_actionGetWallet_triggered()</span> - das ist die Slot-Funktion durch das richtige GUI-Dropdown-Menü ausgerufen, sie verbindet mit dem Binance-Server durch das <span class="code_quote">binCon::binConCl</span> Objekt, lädt angeforderte Wallet herunter und aktualisiert den korrekten GUI-Teil durch die Erstellung der Tabelle mit Daten.<br/>
- <span class="code_quote">void binRaider::on_pushButton_candlesPrint_clicked()</span> - sie ist auch von der GUI ausgerufen aber mit der Schaltfläche und verbindet mit Binance um Klines für angegeben Symbol, Intervall and ihre Anzahl zu herunterladen zu dem GUI-Teil vervollständigen.<br/>
- <span class="code_quote">void binRaider::on_pushButton_autobotStart_clicked()</span> - diese Funktion ist auch mit der richtigen Schaltfläche aufgerufen und sie startet ein neuer Thread. Im Umfang der Funktion initialisieren wir das <span class="quote">mThread</span> Objekt dynamisch, mit der neuen <span class="quote">QThread</span> Klass-Objekt und also mit dem neuen Arbeiter als unser <span class="quote">binConThreadWorker</span> Klass-Objekt, das die ganze Arbeit in einem neuen Thread steuert. Diese zwei Dinge sind die Essenz des Qt-Multithreading mit der folgenden <span class="code_quote">QObject::connect</span> Funktion:<br/>
&emsp;- <span class="code_quote">QObject::connect(mThread, SIGNAL(started()), worker, SLOT(process_autobotStart()))</span> - wir verbinden das started() Signal vom Thread mit den process_autobotStart() Slot unseres Workers. Es wird gesendet, danach wir die start() Funktion auf unserer mThread-Objekt aufgerufen haben.<br/>
&emsp;- <span class="code_quote">QObject::connect(worker, SIGNAL(valueChanged(QString)), this, SLOT(onValueChanged(QString)))</span>,<br/>
&emsp; &nbsp;<span class="code_quote">QObject::connect(worker, SIGNAL(valueSecChanged(QString)), this, SLOT(onValueSecChanged(QString)))</span> - hier verbinden wir Signals von unserem mThread mit Slots in der Hauptklasse, wo wir sind (deshalb nutzen wir <span class="quote">this</span>), die GUI-Objekte aktualisieren.<br/>
&emsp;- <span class="code_quote">QObject::connect(worker, SIGNAL(finished()), mThread, SLOT(quit()))</span>,<br/> 
&emsp; &nbsp;<span class="code_quote">QObject::connect(worker, SIGNAL(finished()), worker, SLOT(deleteLater()))</span>,</br>
&emsp; &nbsp;<span class="code_quote">QObject::connect(mThread, SIGNAL(finished()), mThread, SLOT(deleteLater()))</span> - wir verbinden die finished() Signals mit den quit() und deleteLater() Funktionen um unsere Arbeit mit diesen Objekten sicher zu beenden und sie entfernen, wenn der Thread beended ist. Dann endlich können wir unseren Arbeiter zum erstellten mThread bewegen und den neuen Thread starten. Es lohnt sich klarzustellen, dass das ganze Programm arbeitet im Haupt-Thread und da gibt es die Ereignisschleife, die ständig wartet um die Signals zu erhalten und senden, aber auch Standardarbeiten wir wollen erledigen, wie die in den Funktionen. Ganz einfach gesagt, sie ist irgendwie "while" Endlosschleife, die prüft, ob Triggers aufgetreten sind.
Wenn wir ein Arbeiter, so ein Objekt unserer Klasse zu einem neuen Thread bewegen, dort können wir separat Aufgaben ausführen und blockieren nicht den Haupt-Thread.
<span style="font-style:italic; color:red;">Es ist zusätzlich wichtig zu erwähnen, dass die Verwaltung der GUI nur im Haupt-Thread läuft! Ein Benutzer soll nicht die Verbindungszugriff mit der GUI vom separat Thread versuchen</span>.<br/>
Hierher gibt es die vollständige <span class="quote">binRaider.cpp</span> Datei:<br/>

<br/>
<button id="changeCodeHeightBtn_id_2" onclick="change_code_height('2')" style="float:right; width:100px;">100% height</button>
<br/>

<div id="code_id_2"  class="code_long"><span class="sc9">#include "binRaider.h"
#include "ui_binRaider.h"
#include "binCon.h"
</span><span class="sc0">
</span><span class="sc11">binRaider</span><span class="sc10">::</span><span class="sc11">binRaider</span><span class="sc10">(</span><span class="sc11">QWidget</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc11">parent</span><span class="sc10">)</span><span class="sc0">
    </span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">QMainWindow</span><span class="sc10">(</span><span class="sc11">parent</span><span class="sc10">)</span><span class="sc0">
    </span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">ui</span><span class="sc10">(</span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">Ui</span><span class="sc10">::</span><span class="sc11">binRaider</span><span class="sc10">)</span><span class="sc0">
</span><span class="sc10">{</span><span class="sc0">
    </span><span class="sc11">ui</span><span class="sc10">-&gt;</span><span class="sc11">setupUi</span><span class="sc10">(</span><span class="sc5">this</span><span class="sc10">);</span><span class="sc0">

    </span><span class="sc11">ui</span><span class="sc10">-&gt;</span><span class="sc11">pushButton_autobotStart</span><span class="sc10">-&gt;</span><span class="sc11">setToolTip</span><span class="sc10">(</span><span class="sc6">"Start it!"</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">isFreemThreadTrader1</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">true</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">isFreemThreadTrader2</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">true</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">isFreemThreadTrader3</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">true</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">isFreemThreadTrader4</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">true</span><span class="sc10">;</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">

</span><span class="sc11">binRaider</span><span class="sc10">::~</span><span class="sc11">binRaider</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
    </span><span class="sc5">delete</span><span class="sc0"> </span><span class="sc11">ui</span><span class="sc10">;</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">binRaider</span><span class="sc10">::</span><span class="sc11">on_actionGetWallet_triggered</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">

    </span><span class="sc11">binCon</span><span class="sc10">::</span><span class="sc11">binConCl</span><span class="sc0"> </span><span class="sc11">binCon_obj</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">json</span><span class="sc0"> </span><span class="sc11">j</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">j_tmp</span><span class="sc10">;</span><span class="sc0">

    </span><span class="sc11">j</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">binCon_obj</span><span class="sc10">.</span><span class="sc11">getWallet</span><span class="sc10">();</span><span class="sc0">

    </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">j</span><span class="sc10">.</span><span class="sc11">empty</span><span class="sc10">())</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">QMessageBox</span><span class="sc0"> </span><span class="sc11">msgBox</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">setText</span><span class="sc10">(</span><span class="sc6">"JSON object is empty, possibly no data has been parsed and returned!"</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">setWindowTitle</span><span class="sc10">(</span><span class="sc6">"getWallet function error!"</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">exec</span><span class="sc10">();</span><span class="sc0">
        </span><span class="sc5">return</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">

    </span><span class="sc11">binRaider</span><span class="sc10">::</span><span class="sc11">m_table</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">QTableWidget</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc11">m_table</span><span class="sc10">-&gt;</span><span class="sc11">setColumnCount</span><span class="sc10">(</span><span class="sc4">6</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">m_table</span><span class="sc10">-&gt;</span><span class="sc11">setRowCount</span><span class="sc10">(</span><span class="sc4">0</span><span class="sc10">);</span><span class="sc0">

    </span><span class="sc11">QTableWidgetItem</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">pCell</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">QTableWidgetItem</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">(</span><span class="sc6">"Coin"</span><span class="sc10">));</span><span class="sc0">
    </span><span class="sc11">pCell</span><span class="sc10">-&gt;</span><span class="sc11">setFlags</span><span class="sc10">(</span><span class="sc11">pCell</span><span class="sc10">-&gt;</span><span class="sc11">flags</span><span class="sc10">().</span><span class="sc11">setFlag</span><span class="sc10">(</span><span class="sc11">Qt</span><span class="sc10">::</span><span class="sc11">ItemIsEditable</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">false</span><span class="sc10">));</span><span class="sc0">
    </span><span class="sc11">m_table</span><span class="sc10">-&gt;</span><span class="sc11">setHorizontalHeaderItem</span><span class="sc10">(</span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">pCell</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">pCell</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">QTableWidgetItem</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">(</span><span class="sc6">"Name"</span><span class="sc10">));</span><span class="sc0">
    </span><span class="sc11">m_table</span><span class="sc10">-&gt;</span><span class="sc11">setHorizontalHeaderItem</span><span class="sc10">(</span><span class="sc4">1</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">pCell</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">pCell</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">QTableWidgetItem</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">(</span><span class="sc6">"Free"</span><span class="sc10">));</span><span class="sc0">
    </span><span class="sc11">m_table</span><span class="sc10">-&gt;</span><span class="sc11">setHorizontalHeaderItem</span><span class="sc10">(</span><span class="sc4">2</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">pCell</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">pCell</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">QTableWidgetItem</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">(</span><span class="sc6">"Locked"</span><span class="sc10">));</span><span class="sc0">
    </span><span class="sc11">m_table</span><span class="sc10">-&gt;</span><span class="sc11">setHorizontalHeaderItem</span><span class="sc10">(</span><span class="sc4">3</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">pCell</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">pCell</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">QTableWidgetItem</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">(</span><span class="sc6">"Avg Price"</span><span class="sc10">));</span><span class="sc0">
    </span><span class="sc11">m_table</span><span class="sc10">-&gt;</span><span class="sc11">setHorizontalHeaderItem</span><span class="sc10">(</span><span class="sc4">4</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">pCell</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">pCell</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">QTableWidgetItem</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">(</span><span class="sc6">"Total Value"</span><span class="sc10">));</span><span class="sc0">
    </span><span class="sc11">m_table</span><span class="sc10">-&gt;</span><span class="sc11">setHorizontalHeaderItem</span><span class="sc10">(</span><span class="sc4">5</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">pCell</span><span class="sc10">);</span><span class="sc0">

    </span><span class="sc11">QString</span><span class="sc0"> </span><span class="sc11">line</span><span class="sc10">;</span><span class="sc0">

    </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">i</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc16">double</span><span class="sc0"> </span><span class="sc11">totalWalletVal</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc5">for</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc16">auto</span><span class="sc0"> </span><span class="sc11">it</span><span class="sc0"> </span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">j</span><span class="sc10">)</span><span class="sc0">
    </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">it</span><span class="sc10">[</span><span class="sc6">"free"</span><span class="sc10">]</span><span class="sc0"> </span><span class="sc10">!=</span><span class="sc0"> </span><span class="sc6">"0"</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">

            </span><span class="sc11">m_table</span><span class="sc10">-&gt;</span><span class="sc11">insertRow</span><span class="sc10">(</span><span class="sc11">m_table</span><span class="sc10">-&gt;</span><span class="sc11">rowCount</span><span class="sc10">());</span><span class="sc0">
            </span><span class="sc11">line</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">it</span><span class="sc10">[</span><span class="sc6">"coin"</span><span class="sc10">]);</span><span class="sc0">
            </span><span class="sc11">pCell</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">QTableWidgetItem</span><span class="sc10">(</span><span class="sc11">line</span><span class="sc10">);</span><span class="sc0">
            </span><span class="sc11">pCell</span><span class="sc10">-&gt;</span><span class="sc11">setFlags</span><span class="sc10">(</span><span class="sc11">pCell</span><span class="sc10">-&gt;</span><span class="sc11">flags</span><span class="sc10">().</span><span class="sc11">setFlag</span><span class="sc10">(</span><span class="sc11">Qt</span><span class="sc10">::</span><span class="sc11">ItemIsEditable</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">false</span><span class="sc10">));</span><span class="sc0">
            </span><span class="sc11">m_table</span><span class="sc10">-&gt;</span><span class="sc11">setItem</span><span class="sc10">(</span><span class="sc11">i</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">pCell</span><span class="sc10">);</span><span class="sc0">
            </span><span class="sc11">line</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">it</span><span class="sc10">[</span><span class="sc6">"name"</span><span class="sc10">]);</span><span class="sc0">
            </span><span class="sc11">pCell</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">QTableWidgetItem</span><span class="sc10">(</span><span class="sc11">line</span><span class="sc10">);</span><span class="sc0">
            </span><span class="sc11">pCell</span><span class="sc10">-&gt;</span><span class="sc11">setFlags</span><span class="sc10">(</span><span class="sc11">pCell</span><span class="sc10">-&gt;</span><span class="sc11">flags</span><span class="sc10">().</span><span class="sc11">setFlag</span><span class="sc10">(</span><span class="sc11">Qt</span><span class="sc10">::</span><span class="sc11">ItemIsEditable</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">false</span><span class="sc10">));</span><span class="sc0">
            </span><span class="sc11">m_table</span><span class="sc10">-&gt;</span><span class="sc11">setItem</span><span class="sc10">(</span><span class="sc11">i</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">1</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">pCell</span><span class="sc10">);</span><span class="sc0">
            </span><span class="sc11">line</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">it</span><span class="sc10">[</span><span class="sc6">"free"</span><span class="sc10">]);</span><span class="sc0">
            </span><span class="sc11">pCell</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">QTableWidgetItem</span><span class="sc10">(</span><span class="sc11">line</span><span class="sc10">);</span><span class="sc0">
            </span><span class="sc11">pCell</span><span class="sc10">-&gt;</span><span class="sc11">setFlags</span><span class="sc10">(</span><span class="sc11">pCell</span><span class="sc10">-&gt;</span><span class="sc11">flags</span><span class="sc10">().</span><span class="sc11">setFlag</span><span class="sc10">(</span><span class="sc11">Qt</span><span class="sc10">::</span><span class="sc11">ItemIsEditable</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">false</span><span class="sc10">));</span><span class="sc0">
            </span><span class="sc11">m_table</span><span class="sc10">-&gt;</span><span class="sc11">setItem</span><span class="sc10">(</span><span class="sc11">i</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">2</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">pCell</span><span class="sc10">);</span><span class="sc0">
            </span><span class="sc11">line</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">it</span><span class="sc10">[</span><span class="sc6">"locked"</span><span class="sc10">]);</span><span class="sc0">
            </span><span class="sc11">pCell</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">QTableWidgetItem</span><span class="sc10">(</span><span class="sc11">line</span><span class="sc10">);</span><span class="sc0">
            </span><span class="sc11">pCell</span><span class="sc10">-&gt;</span><span class="sc11">setFlags</span><span class="sc10">(</span><span class="sc11">pCell</span><span class="sc10">-&gt;</span><span class="sc11">flags</span><span class="sc10">().</span><span class="sc11">setFlag</span><span class="sc10">(</span><span class="sc11">Qt</span><span class="sc10">::</span><span class="sc11">ItemIsEditable</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">false</span><span class="sc10">));</span><span class="sc0">
            </span><span class="sc11">m_table</span><span class="sc10">-&gt;</span><span class="sc11">setItem</span><span class="sc10">(</span><span class="sc11">i</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">3</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">pCell</span><span class="sc10">);</span><span class="sc0">

            </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">it</span><span class="sc10">[</span><span class="sc6">"coin"</span><span class="sc10">]</span><span class="sc0"> </span><span class="sc10">!=</span><span class="sc0"> </span><span class="sc6">"USDT"</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">

                </span><span class="sc11">j_tmp</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">binCon_obj</span><span class="sc10">.</span><span class="sc11">getAvgPrice</span><span class="sc10">(</span><span class="sc11">it</span><span class="sc10">[</span><span class="sc6">"coin"</span><span class="sc10">]);</span><span class="sc0">          
                </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">j_tmp</span><span class="sc10">.</span><span class="sc11">empty</span><span class="sc10">())</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
                    </span><span class="sc11">QMessageBox</span><span class="sc0"> </span><span class="sc11">msgBox</span><span class="sc10">;</span><span class="sc0">
                    </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">setText</span><span class="sc10">(</span><span class="sc6">"JSON object is empty, possibly no data has been parsed and returned!"</span><span class="sc10">);</span><span class="sc0">
                    </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">setWindowTitle</span><span class="sc10">(</span><span class="sc6">"getAvgPrice function error!"</span><span class="sc10">);</span><span class="sc0">
                    </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">exec</span><span class="sc10">();</span><span class="sc0">
                    </span><span class="sc5">return</span><span class="sc10">;</span><span class="sc0">
                </span><span class="sc10">}</span><span class="sc0">
                </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">price</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">j_tmp</span><span class="sc10">.</span><span class="sc11">at</span><span class="sc10">(</span><span class="sc6">"price"</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc11">line</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">price</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc11">pCell</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">QTableWidgetItem</span><span class="sc10">(</span><span class="sc11">line</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc11">pCell</span><span class="sc10">-&gt;</span><span class="sc11">setFlags</span><span class="sc10">(</span><span class="sc11">pCell</span><span class="sc10">-&gt;</span><span class="sc11">flags</span><span class="sc10">().</span><span class="sc11">setFlag</span><span class="sc10">(</span><span class="sc11">Qt</span><span class="sc10">::</span><span class="sc11">ItemIsEditable</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">false</span><span class="sc10">));</span><span class="sc0">
                </span><span class="sc11">m_table</span><span class="sc10">-&gt;</span><span class="sc11">setItem</span><span class="sc10">(</span><span class="sc11">i</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">4</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">pCell</span><span class="sc10">);</span><span class="sc0">

                </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">free</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">it</span><span class="sc10">[</span><span class="sc6">"free"</span><span class="sc10">];</span><span class="sc0">
                </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">locked</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">it</span><span class="sc10">[</span><span class="sc6">"locked"</span><span class="sc10">];</span><span class="sc0">
                </span><span class="sc16">double</span><span class="sc0"> </span><span class="sc11">free_d</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">locked_d</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">price_d</span><span class="sc10">;</span><span class="sc0">
                </span><span class="sc11">free_d</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">stod</span><span class="sc10">(</span><span class="sc11">free</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc11">locked_d</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">stod</span><span class="sc10">(</span><span class="sc11">locked</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc11">price_d</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">stod</span><span class="sc10">(</span><span class="sc11">price</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc16">double</span><span class="sc0"> </span><span class="sc11">total_value</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">free_d</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">locked_d</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">price_d</span><span class="sc10">;</span><span class="sc0">
                </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">total_value_s</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">to_string</span><span class="sc10">(</span><span class="sc11">total_value</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc11">line</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">total_value_s</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc11">pCell</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">QTableWidgetItem</span><span class="sc10">(</span><span class="sc11">line</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc11">pCell</span><span class="sc10">-&gt;</span><span class="sc11">setFlags</span><span class="sc10">(</span><span class="sc11">pCell</span><span class="sc10">-&gt;</span><span class="sc11">flags</span><span class="sc10">().</span><span class="sc11">setFlag</span><span class="sc10">(</span><span class="sc11">Qt</span><span class="sc10">::</span><span class="sc11">ItemIsEditable</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">false</span><span class="sc10">));</span><span class="sc0">
                </span><span class="sc11">m_table</span><span class="sc10">-&gt;</span><span class="sc11">setItem</span><span class="sc10">(</span><span class="sc11">i</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">5</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">pCell</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc11">totalWalletVal</span><span class="sc0"> </span><span class="sc10">+=</span><span class="sc0"> </span><span class="sc11">total_value</span><span class="sc10">;</span><span class="sc0">
            </span><span class="sc10">}</span><span class="sc0"> </span><span class="sc5">else</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
                </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">free</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">it</span><span class="sc10">[</span><span class="sc6">"free"</span><span class="sc10">];</span><span class="sc0">
                </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">locked</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">it</span><span class="sc10">[</span><span class="sc6">"locked"</span><span class="sc10">];</span><span class="sc0">
                </span><span class="sc16">double</span><span class="sc0"> </span><span class="sc11">free_d</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">stod</span><span class="sc10">(</span><span class="sc11">free</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc16">double</span><span class="sc0"> </span><span class="sc11">locked_d</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">stod</span><span class="sc10">(</span><span class="sc11">locked</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc16">double</span><span class="sc0"> </span><span class="sc11">total_value</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">free_d</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">locked_d</span><span class="sc10">;</span><span class="sc0">
                </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">t</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">to_string</span><span class="sc10">(</span><span class="sc11">total_value</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc11">line</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">t</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc11">pCell</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">QTableWidgetItem</span><span class="sc10">(</span><span class="sc11">line</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc11">pCell</span><span class="sc10">-&gt;</span><span class="sc11">setFlags</span><span class="sc10">(</span><span class="sc11">pCell</span><span class="sc10">-&gt;</span><span class="sc11">flags</span><span class="sc10">().</span><span class="sc11">setFlag</span><span class="sc10">(</span><span class="sc11">Qt</span><span class="sc10">::</span><span class="sc11">ItemIsEditable</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">false</span><span class="sc10">));</span><span class="sc0">
                </span><span class="sc11">m_table</span><span class="sc10">-&gt;</span><span class="sc11">setItem</span><span class="sc10">(</span><span class="sc11">i</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">5</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">pCell</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc11">totalWalletVal</span><span class="sc0"> </span><span class="sc10">+=</span><span class="sc0"> </span><span class="sc11">total_value</span><span class="sc10">;</span><span class="sc0">
            </span><span class="sc10">}</span><span class="sc0">
            </span><span class="sc11">i</span><span class="sc10">++;</span><span class="sc0">
        </span><span class="sc10">}</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">
    </span><span class="sc11">m_table</span><span class="sc10">-&gt;</span><span class="sc11">insertRow</span><span class="sc10">(</span><span class="sc11">m_table</span><span class="sc10">-&gt;</span><span class="sc11">rowCount</span><span class="sc10">());</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">t</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">to_string</span><span class="sc10">(</span><span class="sc11">totalWalletVal</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">line</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">t</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">pCell</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">QTableWidgetItem</span><span class="sc10">(</span><span class="sc11">line</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">pCell</span><span class="sc10">-&gt;</span><span class="sc11">setFlags</span><span class="sc10">(</span><span class="sc11">pCell</span><span class="sc10">-&gt;</span><span class="sc11">flags</span><span class="sc10">().</span><span class="sc11">setFlag</span><span class="sc10">(</span><span class="sc11">Qt</span><span class="sc10">::</span><span class="sc11">ItemIsEditable</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc5">false</span><span class="sc10">));</span><span class="sc0">

    </span><span class="sc11">m_table</span><span class="sc10">-&gt;</span><span class="sc11">setVerticalScrollBarPolicy</span><span class="sc10">(</span><span class="sc11">Qt</span><span class="sc10">::</span><span class="sc11">ScrollBarAlwaysOff</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">m_table</span><span class="sc10">-&gt;</span><span class="sc11">setHorizontalScrollBarPolicy</span><span class="sc10">(</span><span class="sc11">Qt</span><span class="sc10">::</span><span class="sc11">ScrollBarAlwaysOff</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">m_table</span><span class="sc10">-&gt;</span><span class="sc11">setFixedSize</span><span class="sc10">(</span><span class="sc11">m_table</span><span class="sc10">-&gt;</span><span class="sc11">horizontalHeader</span><span class="sc10">()-&gt;</span><span class="sc11">length</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0">
        </span><span class="sc11">m_table</span><span class="sc10">-&gt;</span><span class="sc11">verticalHeader</span><span class="sc10">()-&gt;</span><span class="sc11">width</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc4">16</span><span class="sc10">,</span><span class="sc0">
        </span><span class="sc11">m_table</span><span class="sc10">-&gt;</span><span class="sc11">verticalHeader</span><span class="sc10">()-&gt;</span><span class="sc11">length</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0">
        </span><span class="sc11">m_table</span><span class="sc10">-&gt;</span><span class="sc11">horizontalHeader</span><span class="sc10">()-&gt;</span><span class="sc11">height</span><span class="sc10">());</span><span class="sc0">

    </span><span class="sc11">m_table</span><span class="sc10">-&gt;</span><span class="sc11">verticalHeader</span><span class="sc10">()-&gt;</span><span class="sc11">setSectionResizeMode</span><span class="sc10">(</span><span class="sc11">QHeaderView</span><span class="sc10">::</span><span class="sc11">Fixed</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">m_table</span><span class="sc10">-&gt;</span><span class="sc11">verticalHeader</span><span class="sc10">()-&gt;</span><span class="sc11">setDefaultSectionSize</span><span class="sc10">(</span><span class="sc4">30</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">m_table</span><span class="sc10">-&gt;</span><span class="sc11">setItem</span><span class="sc10">(</span><span class="sc11">i</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">5</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">pCell</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">m_table</span><span class="sc10">-&gt;</span><span class="sc11">setStyleSheet</span><span class="sc10">(</span><span class="sc6">"QTableView {background: transparent; border: 1px solid black;}"</span><span class="sc10">);</span><span class="sc0">

    </span><span class="sc11">QLayoutItem</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">item</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc5">while</span><span class="sc0"> </span><span class="sc10">((</span><span class="sc11">item</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">ui</span><span class="sc10">-&gt;</span><span class="sc11">gridLayout</span><span class="sc10">-&gt;</span><span class="sc11">takeAt</span><span class="sc10">(</span><span class="sc4">0</span><span class="sc10">))</span><span class="sc0"> </span><span class="sc10">!=</span><span class="sc0"> </span><span class="sc5">NULL</span><span class="sc10">)</span><span class="sc0">
    </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc5">delete</span><span class="sc0"> </span><span class="sc11">item</span><span class="sc10">-&gt;</span><span class="sc11">widget</span><span class="sc10">();</span><span class="sc0">
        </span><span class="sc5">delete</span><span class="sc0"> </span><span class="sc11">item</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">

    </span><span class="sc11">ui</span><span class="sc10">-&gt;</span><span class="sc11">gridLayout</span><span class="sc10">-&gt;</span><span class="sc11">addWidget</span><span class="sc10">(</span><span class="sc11">m_table</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">);</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">binRaider</span><span class="sc10">::</span><span class="sc11">on_pushButton_candlesPrint_clicked</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">

    </span><span class="sc11">binCon</span><span class="sc10">::</span><span class="sc11">binConCl</span><span class="sc0"> </span><span class="sc11">binCon_obj</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">json</span><span class="sc0"> </span><span class="sc11">j</span><span class="sc10">;</span><span class="sc0">

    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">interval</span><span class="sc10">;</span><span class="sc0">

    </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">ui</span><span class="sc10">-&gt;</span><span class="sc11">radioButtonm</span><span class="sc10">-&gt;</span><span class="sc11">isChecked</span><span class="sc10">())</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">interval</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"1m"</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0"> </span><span class="sc5">else</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">ui</span><span class="sc10">-&gt;</span><span class="sc11">radioButton5m</span><span class="sc10">-&gt;</span><span class="sc11">isChecked</span><span class="sc10">())</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">interval</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"5m"</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0"> </span><span class="sc5">else</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">ui</span><span class="sc10">-&gt;</span><span class="sc11">radioButton30m</span><span class="sc10">-&gt;</span><span class="sc11">isChecked</span><span class="sc10">())</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">interval</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"30m"</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0"> </span><span class="sc5">else</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">ui</span><span class="sc10">-&gt;</span><span class="sc11">radioButtonh</span><span class="sc10">-&gt;</span><span class="sc11">isChecked</span><span class="sc10">())</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">interval</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"1h"</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0"> </span><span class="sc5">else</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">ui</span><span class="sc10">-&gt;</span><span class="sc11">radioButtonD</span><span class="sc10">-&gt;</span><span class="sc11">isChecked</span><span class="sc10">())</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">interval</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"1d"</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0"> </span><span class="sc5">else</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">ui</span><span class="sc10">-&gt;</span><span class="sc11">radioButtonw</span><span class="sc10">-&gt;</span><span class="sc11">isChecked</span><span class="sc10">())</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">interval</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"1w"</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0"> </span><span class="sc5">else</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">ui</span><span class="sc10">-&gt;</span><span class="sc11">radioButtonM</span><span class="sc10">-&gt;</span><span class="sc11">isChecked</span><span class="sc10">())</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">interval</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"1M"</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">coin</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">ui</span><span class="sc10">-&gt;</span><span class="sc11">lineEditCoin</span><span class="sc10">-&gt;</span><span class="sc11">text</span><span class="sc10">().</span><span class="sc11">toStdString</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">candlesCount</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">to_string</span><span class="sc10">(</span><span class="sc11">ui</span><span class="sc10">-&gt;</span><span class="sc11">spinBoxCandlesCount</span><span class="sc10">-&gt;</span><span class="sc11">value</span><span class="sc10">());</span><span class="sc0">

    </span><span class="sc11">j</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">binCon_obj</span><span class="sc10">.</span><span class="sc11">getCandles</span><span class="sc10">(</span><span class="sc11">coin</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">interval</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">candlesCount</span><span class="sc10">);</span><span class="sc0">

    </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">j</span><span class="sc10">.</span><span class="sc11">empty</span><span class="sc10">())</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">QMessageBox</span><span class="sc0"> </span><span class="sc11">msgBox</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">setText</span><span class="sc10">(</span><span class="sc6">"JSON object is empty, possibly no data has been parsed and returned!"</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">setWindowTitle</span><span class="sc10">(</span><span class="sc6">"getCandles function error!"</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">exec</span><span class="sc10">();</span><span class="sc0">
        </span><span class="sc5">return</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">

    </span><span class="sc11">QCandlestickSeries</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">series</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">QCandlestickSeries</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc11">series</span><span class="sc10">-&gt;</span><span class="sc11">setName</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">coin</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">"/USDT"</span><span class="sc10">));</span><span class="sc0">
    </span><span class="sc11">series</span><span class="sc10">-&gt;</span><span class="sc11">setIncreasingColor</span><span class="sc10">(</span><span class="sc11">QColor</span><span class="sc10">(</span><span class="sc11">Qt</span><span class="sc10">::</span><span class="sc11">green</span><span class="sc10">));</span><span class="sc0">
    </span><span class="sc11">series</span><span class="sc10">-&gt;</span><span class="sc11">setDecreasingColor</span><span class="sc10">(</span><span class="sc11">QColor</span><span class="sc10">(</span><span class="sc11">Qt</span><span class="sc10">::</span><span class="sc11">red</span><span class="sc10">));</span><span class="sc0">
    </span><span class="sc11">QStringList</span><span class="sc0"> </span><span class="sc11">categories</span><span class="sc10">;</span><span class="sc0">

    </span><span class="sc11">QString</span><span class="sc0"> </span><span class="sc11">high</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">j</span><span class="sc10">.</span><span class="sc11">at</span><span class="sc10">(</span><span class="sc4">0</span><span class="sc10">).</span><span class="sc11">at</span><span class="sc10">(</span><span class="sc4">2</span><span class="sc10">));</span><span class="sc0">
    </span><span class="sc11">QString</span><span class="sc0"> </span><span class="sc11">low</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">j</span><span class="sc10">.</span><span class="sc11">at</span><span class="sc10">(</span><span class="sc4">0</span><span class="sc10">).</span><span class="sc11">at</span><span class="sc10">(</span><span class="sc4">3</span><span class="sc10">));</span><span class="sc0">
    </span><span class="sc11">QString</span><span class="sc0"> </span><span class="sc11">close</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">QString</span><span class="sc0"> </span><span class="sc11">open</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">QString</span><span class="sc0"> </span><span class="sc11">open_time</span><span class="sc10">;</span><span class="sc0">

    </span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">max</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">high</span><span class="sc10">.</span><span class="sc11">toFloat</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">min</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">low</span><span class="sc10">.</span><span class="sc11">toFloat</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">i</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc5">for</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc16">auto</span><span class="sc0"> </span><span class="sc11">it</span><span class="sc0"> </span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">j</span><span class="sc10">)</span><span class="sc0">
    </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc2">// "it" is of type json::reference and has no key() member
</span><span class="sc0">        </span><span class="sc16">float</span><span class="sc0"> </span><span class="sc11">open_t</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">it</span><span class="sc10">.</span><span class="sc11">at</span><span class="sc10">(</span><span class="sc4">0</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">open_time</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">number</span><span class="sc10">(</span><span class="sc11">open_t</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">open</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">it</span><span class="sc10">.</span><span class="sc11">at</span><span class="sc10">(</span><span class="sc4">1</span><span class="sc10">));</span><span class="sc0">
        </span><span class="sc11">high</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">it</span><span class="sc10">.</span><span class="sc11">at</span><span class="sc10">(</span><span class="sc4">2</span><span class="sc10">));</span><span class="sc0">
        </span><span class="sc11">low</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">it</span><span class="sc10">.</span><span class="sc11">at</span><span class="sc10">(</span><span class="sc4">3</span><span class="sc10">));</span><span class="sc0">
        </span><span class="sc11">close</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">it</span><span class="sc10">.</span><span class="sc11">at</span><span class="sc10">(</span><span class="sc4">4</span><span class="sc10">));</span><span class="sc0">

        </span><span class="sc11">QCandlestickSet</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">candlestickSet</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">QCandlestickSet</span><span class="sc10">(</span><span class="sc11">open</span><span class="sc10">.</span><span class="sc11">toFloat</span><span class="sc10">(),</span><span class="sc0"> </span><span class="sc11">high</span><span class="sc10">.</span><span class="sc11">toFloat</span><span class="sc10">(),</span><span class="sc0"> </span><span class="sc11">low</span><span class="sc10">.</span><span class="sc11">toFloat</span><span class="sc10">(),</span><span class="sc0"> </span><span class="sc11">close</span><span class="sc10">.</span><span class="sc11">toFloat</span><span class="sc10">(),</span><span class="sc0"> </span><span class="sc11">open_t</span><span class="sc10">);</span><span class="sc0">

        </span><span class="sc11">series</span><span class="sc10">-&gt;</span><span class="sc11">append</span><span class="sc10">(</span><span class="sc11">candlestickSet</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">QString</span><span class="sc0"> </span><span class="sc11">i_qs</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">number</span><span class="sc10">(</span><span class="sc11">i</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">categories</span><span class="sc10">.</span><span class="sc11">append</span><span class="sc10">(</span><span class="sc11">i_qs</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">i</span><span class="sc10">++;</span><span class="sc0">

        </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">high</span><span class="sc10">.</span><span class="sc11">toFloat</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">&gt;</span><span class="sc0"> </span><span class="sc11">max</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">max</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">high</span><span class="sc10">.</span><span class="sc11">toFloat</span><span class="sc10">();</span><span class="sc0">
        </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">low</span><span class="sc10">.</span><span class="sc11">toFloat</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">&lt;</span><span class="sc0"> </span><span class="sc11">min</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">min</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">low</span><span class="sc10">.</span><span class="sc11">toFloat</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">

    </span><span class="sc11">ui</span><span class="sc10">-&gt;</span><span class="sc11">label_3</span><span class="sc10">-&gt;</span><span class="sc11">setText</span><span class="sc10">(</span><span class="sc11">close</span><span class="sc10">.</span><span class="sc11">mid</span><span class="sc10">(</span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">8</span><span class="sc10">));</span><span class="sc0">

    </span><span class="sc11">QChart</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">chart</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">QChart</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc11">chart</span><span class="sc10">-&gt;</span><span class="sc11">addSeries</span><span class="sc10">(</span><span class="sc11">series</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">chart</span><span class="sc10">-&gt;</span><span class="sc11">setTitle</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">coin</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">"/USDT "</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">interval</span><span class="sc10">));</span><span class="sc0">
    </span><span class="sc11">chart</span><span class="sc10">-&gt;</span><span class="sc11">setAnimationOptions</span><span class="sc10">(</span><span class="sc11">QChart</span><span class="sc10">::</span><span class="sc11">SeriesAnimations</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">chart</span><span class="sc10">-&gt;</span><span class="sc11">createDefaultAxes</span><span class="sc10">();</span><span class="sc0">

    </span><span class="sc11">QBarCategoryAxis</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">axisX</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">qobject_cast</span><span class="sc10">&lt;</span><span class="sc11">QBarCategoryAxis</span><span class="sc10">*&gt;(</span><span class="sc11">chart</span><span class="sc10">-&gt;</span><span class="sc11">axes</span><span class="sc10">(</span><span class="sc11">Qt</span><span class="sc10">::</span><span class="sc11">Horizontal</span><span class="sc10">).</span><span class="sc11">at</span><span class="sc10">(</span><span class="sc4">0</span><span class="sc10">));</span><span class="sc0">
    </span><span class="sc11">axisX</span><span class="sc10">-&gt;</span><span class="sc11">setCategories</span><span class="sc10">(</span><span class="sc11">categories</span><span class="sc10">);</span><span class="sc0">

    </span><span class="sc11">QValueAxis</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">axisY</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">qobject_cast</span><span class="sc10">&lt;</span><span class="sc11">QValueAxis</span><span class="sc10">*&gt;(</span><span class="sc11">chart</span><span class="sc10">-&gt;</span><span class="sc11">axes</span><span class="sc10">(</span><span class="sc11">Qt</span><span class="sc10">::</span><span class="sc11">Vertical</span><span class="sc10">).</span><span class="sc11">at</span><span class="sc10">(</span><span class="sc4">0</span><span class="sc10">));</span><span class="sc0">
    </span><span class="sc11">axisY</span><span class="sc10">-&gt;</span><span class="sc11">setMax</span><span class="sc10">(</span><span class="sc11">max</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">axisY</span><span class="sc10">-&gt;</span><span class="sc11">setMin</span><span class="sc10">(</span><span class="sc11">min</span><span class="sc10">);</span><span class="sc0">

    </span><span class="sc11">QChartView</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">chartView</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">QChartView</span><span class="sc10">(</span><span class="sc11">chart</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">chartView</span><span class="sc10">-&gt;</span><span class="sc11">setRenderHint</span><span class="sc10">(</span><span class="sc11">QPainter</span><span class="sc10">::</span><span class="sc11">Antialiasing</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">chartView</span><span class="sc10">-&gt;</span><span class="sc11">setRubberBand</span><span class="sc10">(</span><span class="sc11">QChartView</span><span class="sc10">::</span><span class="sc11">HorizontalRubberBand</span><span class="sc10">);</span><span class="sc0">

    </span><span class="sc5">while</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">ui</span><span class="sc10">-&gt;</span><span class="sc11">gridLayout_2</span><span class="sc10">-&gt;</span><span class="sc11">count</span><span class="sc10">())</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">QWidget</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">widget</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">ui</span><span class="sc10">-&gt;</span><span class="sc11">gridLayout_2</span><span class="sc10">-&gt;</span><span class="sc11">itemAt</span><span class="sc10">(</span><span class="sc4">0</span><span class="sc10">)-&gt;</span><span class="sc11">widget</span><span class="sc10">();</span><span class="sc0">
        </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">widget</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
            </span><span class="sc11">ui</span><span class="sc10">-&gt;</span><span class="sc11">gridLayout_2</span><span class="sc10">-&gt;</span><span class="sc11">removeWidget</span><span class="sc10">(</span><span class="sc11">widget</span><span class="sc10">);</span><span class="sc0">
            </span><span class="sc5">delete</span><span class="sc0"> </span><span class="sc11">widget</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc10">}</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">

    </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">ui</span><span class="sc10">-&gt;</span><span class="sc11">gridLayout_2</span><span class="sc10">-&gt;</span><span class="sc11">isEmpty</span><span class="sc10">())</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">ui</span><span class="sc10">-&gt;</span><span class="sc11">gridLayout_2</span><span class="sc10">-&gt;</span><span class="sc11">addWidget</span><span class="sc10">(</span><span class="sc11">chartView</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">binRaider</span><span class="sc10">::</span><span class="sc11">on_pushButton_autobotStart_clicked</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">

    </span><span class="sc11">ui</span><span class="sc10">-&gt;</span><span class="sc11">pushButton_autobotStart</span><span class="sc10">-&gt;</span><span class="sc11">setEnabled</span><span class="sc10">(</span><span class="sc5">false</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">mThread</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">QThread</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">worker</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">binConThreadWorker</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">worker</span><span class="sc10">-&gt;</span><span class="sc11">Stop</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">false</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">QObject</span><span class="sc10">::</span><span class="sc11">connect</span><span class="sc10">(</span><span class="sc11">mThread</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SIGNAL</span><span class="sc10">(</span><span class="sc11">started</span><span class="sc10">()),</span><span class="sc0"> </span><span class="sc11">worker</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SLOT</span><span class="sc10">(</span><span class="sc11">process_autobotStart</span><span class="sc10">()));</span><span class="sc0">
    </span><span class="sc11">QObject</span><span class="sc10">::</span><span class="sc11">connect</span><span class="sc10">(</span><span class="sc11">worker</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SIGNAL</span><span class="sc10">(</span><span class="sc11">valueChanged</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">)),</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SLOT</span><span class="sc10">(</span><span class="sc11">onValueChanged</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">)));</span><span class="sc0">
    </span><span class="sc11">QObject</span><span class="sc10">::</span><span class="sc11">connect</span><span class="sc10">(</span><span class="sc11">worker</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SIGNAL</span><span class="sc10">(</span><span class="sc11">valueSecChanged</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">)),</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SLOT</span><span class="sc10">(</span><span class="sc11">onValueSecChanged</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">)));</span><span class="sc0">
    </span><span class="sc11">QObject</span><span class="sc10">::</span><span class="sc11">connect</span><span class="sc10">(</span><span class="sc11">worker</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SIGNAL</span><span class="sc10">(</span><span class="sc11">finished</span><span class="sc10">()),</span><span class="sc0"> </span><span class="sc11">mThread</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SLOT</span><span class="sc10">(</span><span class="sc11">quit</span><span class="sc10">()));</span><span class="sc0">
    </span><span class="sc11">QObject</span><span class="sc10">::</span><span class="sc11">connect</span><span class="sc10">(</span><span class="sc11">worker</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SIGNAL</span><span class="sc10">(</span><span class="sc11">finished</span><span class="sc10">()),</span><span class="sc0"> </span><span class="sc11">worker</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SLOT</span><span class="sc10">(</span><span class="sc11">deleteLater</span><span class="sc10">()));</span><span class="sc0">
    </span><span class="sc11">QObject</span><span class="sc10">::</span><span class="sc11">connect</span><span class="sc10">(</span><span class="sc11">mThread</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SIGNAL</span><span class="sc10">(</span><span class="sc11">finished</span><span class="sc10">()),</span><span class="sc0"> </span><span class="sc11">mThread</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SLOT</span><span class="sc10">(</span><span class="sc11">deleteLater</span><span class="sc10">()));</span><span class="sc0">
    </span><span class="sc11">worker</span><span class="sc10">-&gt;</span><span class="sc11">moveToThread</span><span class="sc10">(</span><span class="sc11">mThread</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">mThread</span><span class="sc10">-&gt;</span><span class="sc11">start</span><span class="sc10">();</span><span class="sc0">

    </span><span class="sc11">QMovie</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">movie</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">QMovie</span><span class="sc10">(</span><span class="sc6">":/images/autobot.gif"</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">movie</span><span class="sc10">-&gt;</span><span class="sc11">setScaledSize</span><span class="sc10">(</span><span class="sc11">ui</span><span class="sc10">-&gt;</span><span class="sc11">label_6</span><span class="sc10">-&gt;</span><span class="sc11">size</span><span class="sc10">());</span><span class="sc0">
    </span><span class="sc11">ui</span><span class="sc10">-&gt;</span><span class="sc11">label_6</span><span class="sc10">-&gt;</span><span class="sc11">setMovie</span><span class="sc10">(</span><span class="sc11">movie</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">movie</span><span class="sc10">-&gt;</span><span class="sc11">start</span><span class="sc10">();</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">binRaider</span><span class="sc10">::</span><span class="sc11">on_pushButton_stop_clicked</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">

    </span><span class="sc11">worker</span><span class="sc10">-&gt;</span><span class="sc11">Stop</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">true</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">ui</span><span class="sc10">-&gt;</span><span class="sc11">pushButton_autobotStart</span><span class="sc10">-&gt;</span><span class="sc11">setEnabled</span><span class="sc10">(</span><span class="sc5">true</span><span class="sc10">);</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">binRaider</span><span class="sc10">::</span><span class="sc11">onValueChanged</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc0"> </span><span class="sc11">s</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">

    </span><span class="sc11">ui</span><span class="sc10">-&gt;</span><span class="sc11">plainTextEdit</span><span class="sc10">-&gt;</span><span class="sc11">appendPlainText</span><span class="sc10">(</span><span class="sc11">s</span><span class="sc10">);</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">binRaider</span><span class="sc10">::</span><span class="sc11">onValueSecChanged</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc0"> </span><span class="sc11">s</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">

    </span><span class="sc11">QTextCursor</span><span class="sc0"> </span><span class="sc11">storeCursorPos</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">ui</span><span class="sc10">-&gt;</span><span class="sc11">plainTextEdit</span><span class="sc10">-&gt;</span><span class="sc11">textCursor</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc11">ui</span><span class="sc10">-&gt;</span><span class="sc11">plainTextEdit</span><span class="sc10">-&gt;</span><span class="sc11">moveCursor</span><span class="sc10">(</span><span class="sc11">QTextCursor</span><span class="sc10">::</span><span class="sc11">End</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">QTextCursor</span><span class="sc10">::</span><span class="sc11">MoveAnchor</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">ui</span><span class="sc10">-&gt;</span><span class="sc11">plainTextEdit</span><span class="sc10">-&gt;</span><span class="sc11">moveCursor</span><span class="sc10">(</span><span class="sc11">QTextCursor</span><span class="sc10">::</span><span class="sc11">StartOfLine</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">QTextCursor</span><span class="sc10">::</span><span class="sc11">MoveAnchor</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">ui</span><span class="sc10">-&gt;</span><span class="sc11">plainTextEdit</span><span class="sc10">-&gt;</span><span class="sc11">moveCursor</span><span class="sc10">(</span><span class="sc11">QTextCursor</span><span class="sc10">::</span><span class="sc11">End</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">QTextCursor</span><span class="sc10">::</span><span class="sc11">KeepAnchor</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">ui</span><span class="sc10">-&gt;</span><span class="sc11">plainTextEdit</span><span class="sc10">-&gt;</span><span class="sc11">textCursor</span><span class="sc10">().</span><span class="sc11">removeSelectedText</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc11">ui</span><span class="sc10">-&gt;</span><span class="sc11">plainTextEdit</span><span class="sc10">-&gt;</span><span class="sc11">textCursor</span><span class="sc10">().</span><span class="sc11">deletePreviousChar</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc11">ui</span><span class="sc10">-&gt;</span><span class="sc11">plainTextEdit</span><span class="sc10">-&gt;</span><span class="sc11">setTextCursor</span><span class="sc10">(</span><span class="sc11">storeCursorPos</span><span class="sc10">);</span><span class="sc0">

    </span><span class="sc11">ui</span><span class="sc10">-&gt;</span><span class="sc11">plainTextEdit</span><span class="sc10">-&gt;</span><span class="sc11">appendPlainText</span><span class="sc10">(</span><span class="sc11">s</span><span class="sc10">);</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">binRaider</span><span class="sc10">::</span><span class="sc11">freemThreadTrader1</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">

    </span><span class="sc11">isFreemThreadTrader1</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">true</span><span class="sc10">;</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">binRaider</span><span class="sc10">::</span><span class="sc11">freemThreadTrader2</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">

    </span><span class="sc11">isFreemThreadTrader2</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">true</span><span class="sc10">;</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">binRaider</span><span class="sc10">::</span><span class="sc11">freemThreadTrader3</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">

    </span><span class="sc11">isFreemThreadTrader3</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">true</span><span class="sc10">;</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">binRaider</span><span class="sc10">::</span><span class="sc11">freemThreadTrader4</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">

    </span><span class="sc11">isFreemThreadTrader4</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">true</span><span class="sc10">;</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">binRaider</span><span class="sc10">::</span><span class="sc11">onStartTrade</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc0"> </span><span class="sc11">s</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">

    </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">isFreemThreadTrader1</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc5">true</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">

        </span><span class="sc11">isFreemThreadTrader1</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">false</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">mThreadTrader1</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">QThread</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">workerTrader1</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">binConThreadWorker</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">workerTrader1</span><span class="sc10">-&gt;</span><span class="sc11">Stop</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">false</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">QObject</span><span class="sc10">::</span><span class="sc11">connect</span><span class="sc10">(</span><span class="sc5">this</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SIGNAL</span><span class="sc10">(</span><span class="sc11">on_process_startTrader1</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">)),</span><span class="sc0"> </span><span class="sc11">workerTrader1</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SLOT</span><span class="sc10">(</span><span class="sc11">process_startTrader</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">)));</span><span class="sc0">
        </span><span class="sc11">QObject</span><span class="sc10">::</span><span class="sc11">connect</span><span class="sc10">(</span><span class="sc11">workerTrader1</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SIGNAL</span><span class="sc10">(</span><span class="sc11">valueChanged</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">)),</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SLOT</span><span class="sc10">(</span><span class="sc11">onValueChanged</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">)));</span><span class="sc0">
        </span><span class="sc11">QObject</span><span class="sc10">::</span><span class="sc11">connect</span><span class="sc10">(</span><span class="sc11">workerTrader1</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SIGNAL</span><span class="sc10">(</span><span class="sc11">finished</span><span class="sc10">()),</span><span class="sc0"> </span><span class="sc11">mThreadTrader1</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SLOT</span><span class="sc10">(</span><span class="sc11">quit</span><span class="sc10">()));</span><span class="sc0">
        </span><span class="sc11">QObject</span><span class="sc10">::</span><span class="sc11">connect</span><span class="sc10">(</span><span class="sc11">workerTrader1</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SIGNAL</span><span class="sc10">(</span><span class="sc11">finished</span><span class="sc10">()),</span><span class="sc0"> </span><span class="sc11">workerTrader1</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SLOT</span><span class="sc10">(</span><span class="sc11">deleteLater</span><span class="sc10">()));</span><span class="sc0">
        </span><span class="sc11">QObject</span><span class="sc10">::</span><span class="sc11">connect</span><span class="sc10">(</span><span class="sc11">mThreadTrader1</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SIGNAL</span><span class="sc10">(</span><span class="sc11">finished</span><span class="sc10">()),</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SLOT</span><span class="sc10">(</span><span class="sc11">freemThreadTrader1</span><span class="sc10">()));</span><span class="sc0">
        </span><span class="sc11">workerTrader1</span><span class="sc10">-&gt;</span><span class="sc11">moveToThread</span><span class="sc10">(</span><span class="sc11">mThreadTrader1</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">mThreadTrader1</span><span class="sc10">-&gt;</span><span class="sc11">start</span><span class="sc10">();</span><span class="sc0">
        </span><span class="sc5">if</span><span class="sc10">(</span><span class="sc11">mThreadTrader1</span><span class="sc10">-&gt;</span><span class="sc11">isRunning</span><span class="sc10">())</span><span class="sc0"> </span><span class="sc11">emit</span><span class="sc0"> </span><span class="sc11">on_process_startTrader1</span><span class="sc10">(</span><span class="sc11">s</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0"> </span><span class="sc5">else</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">isFreemThreadTrader2</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc5">true</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">

        </span><span class="sc11">isFreemThreadTrader2</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">false</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">mThreadTrader2</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">QThread</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">workerTrader2</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">binConThreadWorker</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">workerTrader2</span><span class="sc10">-&gt;</span><span class="sc11">Stop</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">false</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">QObject</span><span class="sc10">::</span><span class="sc11">connect</span><span class="sc10">(</span><span class="sc5">this</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SIGNAL</span><span class="sc10">(</span><span class="sc11">on_process_startTrader2</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">)),</span><span class="sc0"> </span><span class="sc11">workerTrader2</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SLOT</span><span class="sc10">(</span><span class="sc11">process_startTrader</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">)));</span><span class="sc0">
        </span><span class="sc11">QObject</span><span class="sc10">::</span><span class="sc11">connect</span><span class="sc10">(</span><span class="sc11">workerTrader2</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SIGNAL</span><span class="sc10">(</span><span class="sc11">valueChanged</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">)),</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SLOT</span><span class="sc10">(</span><span class="sc11">onValueChanged</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">)));</span><span class="sc0">
        </span><span class="sc11">QObject</span><span class="sc10">::</span><span class="sc11">connect</span><span class="sc10">(</span><span class="sc11">workerTrader2</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SIGNAL</span><span class="sc10">(</span><span class="sc11">finished</span><span class="sc10">()),</span><span class="sc0"> </span><span class="sc11">mThreadTrader2</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SLOT</span><span class="sc10">(</span><span class="sc11">quit</span><span class="sc10">()));</span><span class="sc0">
        </span><span class="sc11">QObject</span><span class="sc10">::</span><span class="sc11">connect</span><span class="sc10">(</span><span class="sc11">workerTrader2</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SIGNAL</span><span class="sc10">(</span><span class="sc11">finished</span><span class="sc10">()),</span><span class="sc0"> </span><span class="sc11">workerTrader2</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SLOT</span><span class="sc10">(</span><span class="sc11">deleteLater</span><span class="sc10">()));</span><span class="sc0">
        </span><span class="sc11">QObject</span><span class="sc10">::</span><span class="sc11">connect</span><span class="sc10">(</span><span class="sc11">mThreadTrader2</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SIGNAL</span><span class="sc10">(</span><span class="sc11">finished</span><span class="sc10">()),</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SLOT</span><span class="sc10">(</span><span class="sc11">freemThreadTrader2</span><span class="sc10">()));</span><span class="sc0">
        </span><span class="sc11">workerTrader2</span><span class="sc10">-&gt;</span><span class="sc11">moveToThread</span><span class="sc10">(</span><span class="sc11">mThreadTrader2</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">mThreadTrader2</span><span class="sc10">-&gt;</span><span class="sc11">start</span><span class="sc10">();</span><span class="sc0">
        </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">mThreadTrader2</span><span class="sc10">-&gt;</span><span class="sc11">isRunning</span><span class="sc10">())</span><span class="sc0"> </span><span class="sc11">emit</span><span class="sc0"> </span><span class="sc11">on_process_startTrader2</span><span class="sc10">(</span><span class="sc11">s</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0"> </span><span class="sc5">else</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">isFreemThreadTrader3</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc5">true</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">

        </span><span class="sc11">isFreemThreadTrader3</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">false</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">mThreadTrader3</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">QThread</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">workerTrader3</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">binConThreadWorker</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">workerTrader3</span><span class="sc10">-&gt;</span><span class="sc11">Stop</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">false</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">QObject</span><span class="sc10">::</span><span class="sc11">connect</span><span class="sc10">(</span><span class="sc5">this</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SIGNAL</span><span class="sc10">(</span><span class="sc11">on_process_startTrader3</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">)),</span><span class="sc0"> </span><span class="sc11">workerTrader3</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SLOT</span><span class="sc10">(</span><span class="sc11">process_startTrader</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">)));</span><span class="sc0">
        </span><span class="sc11">QObject</span><span class="sc10">::</span><span class="sc11">connect</span><span class="sc10">(</span><span class="sc11">workerTrader3</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SIGNAL</span><span class="sc10">(</span><span class="sc11">valueChanged</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">)),</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SLOT</span><span class="sc10">(</span><span class="sc11">onValueChanged</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">)));</span><span class="sc0">
        </span><span class="sc11">QObject</span><span class="sc10">::</span><span class="sc11">connect</span><span class="sc10">(</span><span class="sc11">workerTrader3</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SIGNAL</span><span class="sc10">(</span><span class="sc11">finished</span><span class="sc10">()),</span><span class="sc0"> </span><span class="sc11">mThreadTrader3</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SLOT</span><span class="sc10">(</span><span class="sc11">quit</span><span class="sc10">()));</span><span class="sc0">
        </span><span class="sc11">QObject</span><span class="sc10">::</span><span class="sc11">connect</span><span class="sc10">(</span><span class="sc11">workerTrader3</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SIGNAL</span><span class="sc10">(</span><span class="sc11">finished</span><span class="sc10">()),</span><span class="sc0"> </span><span class="sc11">workerTrader3</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SLOT</span><span class="sc10">(</span><span class="sc11">deleteLater</span><span class="sc10">()));</span><span class="sc0">
        </span><span class="sc11">QObject</span><span class="sc10">::</span><span class="sc11">connect</span><span class="sc10">(</span><span class="sc11">mThreadTrader3</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SIGNAL</span><span class="sc10">(</span><span class="sc11">finished</span><span class="sc10">()),</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SLOT</span><span class="sc10">(</span><span class="sc11">freemThreadTrader3</span><span class="sc10">()));</span><span class="sc0">
        </span><span class="sc11">workerTrader3</span><span class="sc10">-&gt;</span><span class="sc11">moveToThread</span><span class="sc10">(</span><span class="sc11">mThreadTrader3</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">mThreadTrader3</span><span class="sc10">-&gt;</span><span class="sc11">start</span><span class="sc10">();</span><span class="sc0">
        </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">mThreadTrader3</span><span class="sc10">-&gt;</span><span class="sc11">isRunning</span><span class="sc10">())</span><span class="sc0"> </span><span class="sc11">emit</span><span class="sc0"> </span><span class="sc11">on_process_startTrader3</span><span class="sc10">(</span><span class="sc11">s</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0"> </span><span class="sc5">else</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">isFreemThreadTrader4</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc5">true</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">

        </span><span class="sc11">isFreemThreadTrader4</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">false</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">mThreadTrader4</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">QThread</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">workerTrader4</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">new</span><span class="sc0"> </span><span class="sc11">binConThreadWorker</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">workerTrader4</span><span class="sc10">-&gt;</span><span class="sc11">Stop</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc5">false</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">QObject</span><span class="sc10">::</span><span class="sc11">connect</span><span class="sc10">(</span><span class="sc5">this</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SIGNAL</span><span class="sc10">(</span><span class="sc11">on_process_startTrader4</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">)),</span><span class="sc0"> </span><span class="sc11">workerTrader4</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SLOT</span><span class="sc10">(</span><span class="sc11">process_startTrader</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">)));</span><span class="sc0">
        </span><span class="sc11">QObject</span><span class="sc10">::</span><span class="sc11">connect</span><span class="sc10">(</span><span class="sc11">workerTrader4</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SIGNAL</span><span class="sc10">(</span><span class="sc11">valueChanged</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">)),</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SLOT</span><span class="sc10">(</span><span class="sc11">onValueChanged</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">)));</span><span class="sc0">
        </span><span class="sc11">QObject</span><span class="sc10">::</span><span class="sc11">connect</span><span class="sc10">(</span><span class="sc11">workerTrader4</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SIGNAL</span><span class="sc10">(</span><span class="sc11">finished</span><span class="sc10">()),</span><span class="sc0"> </span><span class="sc11">mThreadTrader4</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SLOT</span><span class="sc10">(</span><span class="sc11">quit</span><span class="sc10">()));</span><span class="sc0">
        </span><span class="sc11">QObject</span><span class="sc10">::</span><span class="sc11">connect</span><span class="sc10">(</span><span class="sc11">workerTrader4</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SIGNAL</span><span class="sc10">(</span><span class="sc11">finished</span><span class="sc10">()),</span><span class="sc0"> </span><span class="sc11">workerTrader4</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SLOT</span><span class="sc10">(</span><span class="sc11">deleteLater</span><span class="sc10">()));</span><span class="sc0">
        </span><span class="sc11">QObject</span><span class="sc10">::</span><span class="sc11">connect</span><span class="sc10">(</span><span class="sc11">mThreadTrader4</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SIGNAL</span><span class="sc10">(</span><span class="sc11">finished</span><span class="sc10">()),</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SLOT</span><span class="sc10">(</span><span class="sc11">freemThreadTrader4</span><span class="sc10">()));</span><span class="sc0">
        </span><span class="sc11">workerTrader4</span><span class="sc10">-&gt;</span><span class="sc11">moveToThread</span><span class="sc10">(</span><span class="sc11">mThreadTrader4</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">mThreadTrader4</span><span class="sc10">-&gt;</span><span class="sc11">start</span><span class="sc10">();</span><span class="sc0">
        </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">mThreadTrader4</span><span class="sc10">-&gt;</span><span class="sc11">isRunning</span><span class="sc10">())</span><span class="sc0"> </span><span class="sc11">emit</span><span class="sc0"> </span><span class="sc11">on_process_startTrader4</span><span class="sc10">(</span><span class="sc11">s</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0"> </span><span class="sc5">else</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">

        </span><span class="sc11">onValueChanged</span><span class="sc10">(</span><span class="sc6">"All mThreadTraders are running! Can't start a new trader!"</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">binRaider</span><span class="sc10">::</span><span class="sc11">on_pushButton_clear_clicked</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">

    </span><span class="sc11">ui</span><span class="sc10">-&gt;</span><span class="sc11">plainTextEdit</span><span class="sc10">-&gt;</span><span class="sc11">clear</span><span class="sc10">();</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">
</span></div>



Dies führt uns zur <span class="quote">binConThreadWorker.h</span>, ich werde die gesamte Funktionalität in der CPP-Datei nicht präsentieren, die kann nach den Vorlieben des Entwicklers arrangiert werden. Wir haben in der binRaider.h die <span class="code_quote">void onStartTrade(QString)</span> Funktion gesehen, die Signals vom unseren neuen Thread erhält und wir können unten das entsprechende <span class="code_quote">void startTrade(QString)</span> Signal sehen. Der Zweck ist um den Haupt-Thread zu auffordern, zu einem nächsten Thread starten, der eine andere Aufgabe erledigen wird. Der gesamte Prozesspfad sieht so aus:<br/>

eine GUI-Schaltfläche wird geklickt -> <span class="quote">(SLOT der binRaider Klasse)</span> <span class="code_quote">void binRaider::on_pushButton_autobotStart_clicked()</span>, wenn mThread gestarted ist, dann wird <span class="code_quote">started()</span> <span class="quote">SIGNAL</span> an die binConThreadWorker gesendet -> <span class="quote">(SLOT der binConThreadWorker Klasse)</span> <span class="code_quote">process_autobotStart()</span>, nach der Analyse das <span class="quote">SIGNAL</span> <span class="code_quote">void startTrade(QString)</span> wird an die binRaider mit dem Symbol in der QString Variable gesendet -> <span class="quote">(SLOT der binRaider Klasse)</span> <span class="code_quote">void onStartTrade(QString)</span> -> <span class="quote">(SIGNAL der binRaider Klasse)</span> <span class="code_quote">void on_process_startTrader1(QString)</span> (in der ersten Runde) wird an <span class="quote">SLOT</span> der binConThreadWorker Klasse gesendet -> <span class="code_quote">void process_startTrader(QString)</span>.<br/>


<br/>
<button id="changeCodeHeightBtn_id_3" onclick="change_code_height('3')" style="float:right; width:100px;">100% height</button>
<br/>

<div id="code_id_3"  class="code_long"><span class="sc9">#ifndef BINCONTHREADWORKER_H
#define BINCONTHREADWORKER_H
</span><span class="sc0">
</span><span class="sc9">#include &lt;binCon.h&gt;
#include &lt;fstream&gt;
</span><span class="sc9">#include &lt;QThread&gt;
</span><span class="sc0">
</span><span class="sc16">class</span><span class="sc0"> </span><span class="sc11">binConThreadWorker</span><span class="sc0"> </span><span class="sc10">:</span><span class="sc0"> </span><span class="sc16">public</span><span class="sc0"> </span><span class="sc11">QObject</span><span class="sc0">
</span><span class="sc10">{</span><span class="sc0">
    </span><span class="sc11">Q_OBJECT</span><span class="sc0">

</span><span class="sc16">public</span><span class="sc0"> </span><span class="sc11">slots</span><span class="sc10">:</span><span class="sc0">
    </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">process_autobotStart</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">process_startTrader</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">);</span><span class="sc0">

</span><span class="sc16">public</span><span class="sc10">:</span><span class="sc0">
    </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">Stop</span><span class="sc10">;</span><span class="sc0">

</span><span class="sc16">private</span><span class="sc10">:</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">ofstream</span><span class="sc0"> </span><span class="sc11">logFileStream</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">fstream</span><span class="sc0"> </span><span class="sc11">autobotCompareFileStream</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">is_logFile_opened</span><span class="sc10">(</span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">is_autobotCompareFile_opened</span><span class="sc10">(</span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc10">);</span><span class="sc0">

</span><span class="sc11">signals</span><span class="sc10">:</span><span class="sc0">
    </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">valueChanged</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">valueSecChanged</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">startTrade</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">finished</span><span class="sc10">();</span><span class="sc0">

</span><span class="sc10">};</span><span class="sc0">

</span><span class="sc9">#endif </span><span class="sc2">// BINCONTHREADWORKER_H
</span></div>


Wenn wir diesen Teil klar haben, fehlt uns immer noch die Erklärung zum Netzwerk. Werfen wir einen Blick auf die <span class="quote">binCon.h</span>:<br/>

<br/>
<button id="changeCodeHeightBtn_id_4" onclick="change_code_height('4')" style="float:right; width:100px;">100% height</button>
<br/>

<div id="code_id_4"  class="code_long"><span class="sc9">#ifndef BINCON_H
#define BINCON_H
</span><span class="sc0">
</span><span class="sc9">#include &lt;QApplication&gt;
#include &lt;QEventLoop&gt;
#include &lt;QNetworkAccessManager&gt;
#include &lt;QNetworkRequest&gt;
#include &lt;QNetworkReply&gt;
#include &lt;QUrl&gt;
#include &lt;QMessageBox&gt;
#include &lt;sstream&gt;
#include "HMAC_SHA256.h"
#pragma comment(lib, "HMAC_SHA256")
#include &lt;nlohmann\json.hpp&gt;
</span><span class="sc5">using</span><span class="sc0"> </span><span class="sc11">json</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">nlohmann</span><span class="sc10">::</span><span class="sc11">json</span><span class="sc10">;</span><span class="sc0">

</span><span class="sc5">namespace</span><span class="sc0"> </span><span class="sc11">binCon</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">

    </span><span class="sc16">class</span><span class="sc0"> </span><span class="sc11">binConCl</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc16">public</span><span class="sc0"> </span><span class="sc11">QObject</span><span class="sc0">
    </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">Q_OBJECT</span><span class="sc0">
        </span><span class="sc16">public</span><span class="sc10">:</span><span class="sc0">
        </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">get_time</span><span class="sc10">();</span><span class="sc0">
        </span><span class="sc11">json</span><span class="sc0"> </span><span class="sc11">getWallet</span><span class="sc10">();</span><span class="sc0">
        </span><span class="sc11">json</span><span class="sc0"> </span><span class="sc11">getAvgPrice</span><span class="sc10">(</span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">coin</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">json</span><span class="sc0"> </span><span class="sc11">getCandles</span><span class="sc10">(</span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">coin</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">interval</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">limit</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">json</span><span class="sc0"> </span><span class="sc11">get24hTicker</span><span class="sc10">();</span><span class="sc0">
        </span><span class="sc11">json</span><span class="sc0"> </span><span class="sc11">get24hTickerCoin</span><span class="sc10">(</span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">coin</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">json</span><span class="sc0"> </span><span class="sc11">getPriceAll</span><span class="sc10">();</span><span class="sc0">
        </span><span class="sc11">json</span><span class="sc0"> </span><span class="sc11">getPrice</span><span class="sc10">(</span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">coin</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">json</span><span class="sc0"> </span><span class="sc11">getBookTicker</span><span class="sc10">();</span><span class="sc0">

        </span><span class="sc16">private</span><span class="sc10">:</span><span class="sc0">
        </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc16">const</span><span class="sc0"> </span><span class="sc11">burl</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"https://api.binance.com"</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc16">const</span><span class="sc0"> </span><span class="sc11">recvWindow</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"&amp;recvWindow=10000"</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc16">const</span><span class="sc0"> </span><span class="sc11">api_secret_s</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"Hf9EJd26BifFlepFQ720DcfaYJmqZG8e45FMpqe2LZRbv52dwqkl2lvjkglq01T2"</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">QEventLoop</span><span class="sc0"> </span><span class="sc11">eventLoop</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">QNetworkRequest</span><span class="sc0"> </span><span class="sc11">req</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">QNetworkAccessManager</span><span class="sc0"> </span><span class="sc11">mgr</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">QNetworkReply</span><span class="sc10">*</span><span class="sc0"> </span><span class="sc11">reply</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">QString</span><span class="sc0"> </span><span class="sc11">buffer</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">json</span><span class="sc0"> </span><span class="sc11">j</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">j_test</span><span class="sc10">;</span><span class="sc0">

        </span><span class="sc16">private</span><span class="sc0"> </span><span class="sc11">slots</span><span class="sc10">:</span><span class="sc0">
        </span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">replyFinished</span><span class="sc10">(</span><span class="sc11">QNetworkReply</span><span class="sc10">*);</span><span class="sc0">
    </span><span class="sc10">};</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">
</span><span class="sc9">#endif </span><span class="sc2">// BINCON_H
</span></div>


Wir können wichtige enthaltene Klassen mit dem <span class="quote">QNetwork</span> Prefix, aber auch mit dem <span class="quote">QUrl</span> bemerken und sehr bedeutungsvoll <span class="quote">QEventLoop</span>.<br/>

Die Ereignisschleife ist ein wichtiges Entwurfsmuster in vielen Programmiersprachen, das wartet auf und versendet Ereignisse oder Nachrichten in einem Programm, es läuft im selben Thread aber ein bisschen neben ihm, er blockt keinen Stack und er is besonders bemerkbar in Langzeitlichen Aufgaben, stattdessen stellt es die Aufgaben in die Warteschlange und wenn sie ihre Arbeit gemacht haben, ruft es sie zum Stack zurück, zum Beispiel asynchrone Netzwerkkommunikation. Gleich wie in der <a class="internal_link" target="_blank" href="#/winhttp_api">WinHttp</a>, benutze ich <a class="external_link" target="_blank" href="https://json.nlohmann.me/">JSON for Modern C++</a>. Bitte denken Sie auch daran, Qt-Klassen wie QString stattdessen z.B. std::string zu verwenden, andernfalls benutzen sie eine Konvertierungsfunktion wie <span class="code_quote">QString::fromStdString(std::string)</span>. Ich habe hier mit der std:string Klasse geblieben, wegen meiner HMAC_SHA256 Bibliothek Umsetzung. Werfen wir einen Blick auf die <span class="quote">binCon.cpp:</span>

<br/>
<button id="changeCodeHeightBtn_id_5" onclick="change_code_height('5')" style="float:right; width:100px;">100% height</button>
<br/>

<div id="code_id_5"  class="code_long"><span class="sc9">#include &lt;binCon.h&gt;
</span><span class="sc0">
</span><span class="sc5">namespace</span><span class="sc0"> </span><span class="sc11">binCon</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">

</span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">binConCl</span><span class="sc10">::</span><span class="sc11">get_time</span><span class="sc10">(){</span><span class="sc0">

    </span><span class="sc11">QObject</span><span class="sc10">::</span><span class="sc11">connect</span><span class="sc10">(&amp;</span><span class="sc11">mgr</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SIGNAL</span><span class="sc10">(</span><span class="sc11">finished</span><span class="sc10">(</span><span class="sc11">QNetworkReply</span><span class="sc10">*)),</span><span class="sc0"> </span><span class="sc10">&amp;</span><span class="sc11">eventLoop</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SLOT</span><span class="sc10">(</span><span class="sc11">quit</span><span class="sc10">()));</span><span class="sc0">
    </span><span class="sc11">req</span><span class="sc10">.</span><span class="sc11">setUrl</span><span class="sc10">(</span><span class="sc11">QUrl</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">(</span><span class="sc6">"https://api1.binance.com//api/v3/time"</span><span class="sc10">)));</span><span class="sc0">
    </span><span class="sc11">reply</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">mgr</span><span class="sc10">.</span><span class="sc11">get</span><span class="sc10">(</span><span class="sc11">req</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">eventLoop</span><span class="sc10">.</span><span class="sc11">exec</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc11">buffer</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">reply</span><span class="sc10">-&gt;</span><span class="sc11">readAll</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc5">delete</span><span class="sc0"> </span><span class="sc11">reply</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">buffer_s</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">buffer</span><span class="sc10">.</span><span class="sc11">toStdString</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc11">json</span><span class="sc0"> </span><span class="sc11">j</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">time</span><span class="sc10">;</span><span class="sc0">

    </span><span class="sc5">try</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">j</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">json</span><span class="sc10">::</span><span class="sc11">parse</span><span class="sc10">(</span><span class="sc11">buffer_s</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">time</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">j</span><span class="sc10">.</span><span class="sc11">at</span><span class="sc10">(</span><span class="sc6">"serverTime"</span><span class="sc10">).</span><span class="sc11">dump</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0"> </span><span class="sc5">catch</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc16">const</span><span class="sc0"> </span><span class="sc11">json</span><span class="sc10">::</span><span class="sc11">parse_error</span><span class="sc10">&amp;</span><span class="sc0"> </span><span class="sc11">e</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">QMessageBox</span><span class="sc0"> </span><span class="sc11">msgBox</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">setText</span><span class="sc10">(</span><span class="sc6">"Message: "</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">what</span><span class="sc10">())</span><span class="sc0">
                       </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">".\nException id: "</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">number</span><span class="sc10">(</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">id</span><span class="sc10">)</span><span class="sc0">
                       </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">".\nByte position of error: "</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">number</span><span class="sc10">(</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">byte</span><span class="sc10">)</span><span class="sc0">
                       </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">".\nPossibly no data has been downloaded and buffer is empty."</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">setWindowTitle</span><span class="sc10">(</span><span class="sc6">"Internal binCon Error!"</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">exec</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">

    </span><span class="sc5">return</span><span class="sc0"> </span><span class="sc11">time</span><span class="sc10">;</span><span class="sc0">
</span><span class="sc10">};</span><span class="sc0">

</span><span class="sc11">json</span><span class="sc0"> </span><span class="sc11">binConCl</span><span class="sc10">::</span><span class="sc11">getWallet</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">

    </span><span class="sc11">QObject</span><span class="sc10">::</span><span class="sc11">connect</span><span class="sc10">(&amp;</span><span class="sc11">mgr</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SIGNAL</span><span class="sc10">(</span><span class="sc11">finished</span><span class="sc10">(</span><span class="sc11">QNetworkReply</span><span class="sc10">*)),</span><span class="sc0"> </span><span class="sc10">&amp;</span><span class="sc11">eventLoop</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SLOT</span><span class="sc10">(</span><span class="sc11">quit</span><span class="sc10">()));</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">endpoint_wallet</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"/sapi/v1/capital/config/getall"</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">time</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">get_time</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">message_s</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"timestamp="</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">time</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">recvWindow</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">vector</span><span class="sc0"> </span><span class="sc10">&lt;</span><span class="sc16">unsigned</span><span class="sc0"> </span><span class="sc16">char</span><span class="sc10">&gt;</span><span class="sc0"> </span><span class="sc11">message</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc11">message_s</span><span class="sc10">.</span><span class="sc11">begin</span><span class="sc10">(),</span><span class="sc0"> </span><span class="sc11">message_s</span><span class="sc10">.</span><span class="sc11">end</span><span class="sc10">()};</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">vector</span><span class="sc0"> </span><span class="sc10">&lt;</span><span class="sc16">unsigned</span><span class="sc0"> </span><span class="sc16">char</span><span class="sc10">&gt;</span><span class="sc0"> </span><span class="sc11">api_secret</span><span class="sc10">(</span><span class="sc11">api_secret_s</span><span class="sc10">.</span><span class="sc11">begin</span><span class="sc10">(),</span><span class="sc0"> </span><span class="sc11">api_secret_s</span><span class="sc10">.</span><span class="sc11">end</span><span class="sc10">());</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">stringstream</span><span class="sc0"> </span><span class="sc11">ss</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">HMAC</span><span class="sc10">::</span><span class="sc11">SHA256</span><span class="sc0"> </span><span class="sc11">HMAC_SHA256_OBJ</span><span class="sc10">;</span><span class="sc0">

    </span><span class="sc5">for</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc16">auto</span><span class="sc0"> </span><span class="sc11">ch</span><span class="sc0"> </span><span class="sc10">:</span><span class="sc0"> </span><span class="sc11">HMAC_SHA256_OBJ</span><span class="sc10">.</span><span class="sc11">HMAC_SHA256</span><span class="sc10">(</span><span class="sc11">message</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">api_secret</span><span class="sc10">))</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">ss</span><span class="sc0"> </span><span class="sc10">&lt;&lt;</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">uppercase</span><span class="sc0"> </span><span class="sc10">&lt;&lt;</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">hex</span><span class="sc0"> </span><span class="sc10">&lt;&lt;</span><span class="sc0"> </span><span class="sc5">static_cast</span><span class="sc10">&lt;</span><span class="sc16">unsigned</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc10">&gt;(</span><span class="sc11">ch</span><span class="sc0"> </span><span class="sc10">&gt;&gt;</span><span class="sc0"> </span><span class="sc4">4</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">ss</span><span class="sc0"> </span><span class="sc10">&lt;&lt;</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">uppercase</span><span class="sc0"> </span><span class="sc10">&lt;&lt;</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">hex</span><span class="sc0"> </span><span class="sc10">&lt;&lt;</span><span class="sc0"> </span><span class="sc5">static_cast</span><span class="sc10">&lt;</span><span class="sc16">unsigned</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc10">&gt;(</span><span class="sc11">ch</span><span class="sc10">++</span><span class="sc0"> </span><span class="sc10">&amp;</span><span class="sc0"> </span><span class="sc4">0xF</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">

    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">url</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">burl</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">endpoint_wallet</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">"?"</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">"timestamp="</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">time</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">recvWindow</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">"&amp;signature="</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">ss</span><span class="sc10">.</span><span class="sc11">str</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc11">req</span><span class="sc10">.</span><span class="sc11">setUrl</span><span class="sc10">(</span><span class="sc11">QUrl</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">url</span><span class="sc10">)));</span><span class="sc0">
    </span><span class="sc11">req</span><span class="sc10">.</span><span class="sc11">setRawHeader</span><span class="sc10">(</span><span class="sc6">"X-MBX-APIKEY"</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc6">"cvjxfA4230fwAF48JQETYmvnc724FF345lopuiEAf23fzQAbLrnvmF842Hncve29"</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">reply</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">mgr</span><span class="sc10">.</span><span class="sc11">get</span><span class="sc10">(</span><span class="sc11">req</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">eventLoop</span><span class="sc10">.</span><span class="sc11">exec</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc11">buffer</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">reply</span><span class="sc10">-&gt;</span><span class="sc11">readAll</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc5">delete</span><span class="sc0"> </span><span class="sc11">reply</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">buffer_s</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">buffer</span><span class="sc10">.</span><span class="sc11">toStdString</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc11">j</span><span class="sc10">.</span><span class="sc11">clear</span><span class="sc10">();</span><span class="sc0">

    </span><span class="sc5">try</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">j</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">json</span><span class="sc10">::</span><span class="sc11">parse</span><span class="sc10">(</span><span class="sc11">buffer_s</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0"> </span><span class="sc5">catch</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc16">const</span><span class="sc0"> </span><span class="sc11">json</span><span class="sc10">::</span><span class="sc11">parse_error</span><span class="sc10">&amp;</span><span class="sc0"> </span><span class="sc11">e</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">QMessageBox</span><span class="sc0"> </span><span class="sc11">msgBox</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">setText</span><span class="sc10">(</span><span class="sc6">"Message: "</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">what</span><span class="sc10">())</span><span class="sc0">
                       </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">".\nException id: "</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">number</span><span class="sc10">(</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">id</span><span class="sc10">)</span><span class="sc0">
                       </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">".\nByte position of error: "</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">number</span><span class="sc10">(</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">byte</span><span class="sc10">)</span><span class="sc0">
                       </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">".\nPossibly no data has been downloaded and buffer is empty."</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">setWindowTitle</span><span class="sc10">(</span><span class="sc6">"Internal binCon Error!"</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">exec</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">

    </span><span class="sc5">return</span><span class="sc0"> </span><span class="sc11">j</span><span class="sc10">;</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">

</span><span class="sc11">json</span><span class="sc0"> </span><span class="sc11">binConCl</span><span class="sc10">::</span><span class="sc11">getAvgPrice</span><span class="sc10">(</span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">coin</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">

    </span><span class="sc11">QObject</span><span class="sc10">::</span><span class="sc11">connect</span><span class="sc10">(&amp;</span><span class="sc11">mgr</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SIGNAL</span><span class="sc10">(</span><span class="sc11">finished</span><span class="sc10">(</span><span class="sc11">QNetworkReply</span><span class="sc10">*)),</span><span class="sc0"> </span><span class="sc10">&amp;</span><span class="sc11">eventLoop</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SLOT</span><span class="sc10">(</span><span class="sc11">quit</span><span class="sc10">()));</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc16">const</span><span class="sc0"> </span><span class="sc11">endpoint_AvgPrice</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"/api/v3/avgPrice"</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">url</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">burl</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">endpoint_AvgPrice</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">"?symbol="</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">coin</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">"USDT"</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">req</span><span class="sc10">.</span><span class="sc11">setUrl</span><span class="sc10">(</span><span class="sc11">QUrl</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">url</span><span class="sc10">)));</span><span class="sc0">
    </span><span class="sc11">reply</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">mgr</span><span class="sc10">.</span><span class="sc11">get</span><span class="sc10">(</span><span class="sc11">req</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">eventLoop</span><span class="sc10">.</span><span class="sc11">exec</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc11">buffer</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">reply</span><span class="sc10">-&gt;</span><span class="sc11">readAll</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc5">delete</span><span class="sc0"> </span><span class="sc11">reply</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">buffer_s</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">buffer</span><span class="sc10">.</span><span class="sc11">toStdString</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc11">j</span><span class="sc10">.</span><span class="sc11">clear</span><span class="sc10">();</span><span class="sc0">

    </span><span class="sc5">try</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">j</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">json</span><span class="sc10">::</span><span class="sc11">parse</span><span class="sc10">(</span><span class="sc11">buffer_s</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0"> </span><span class="sc5">catch</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc16">const</span><span class="sc0"> </span><span class="sc11">json</span><span class="sc10">::</span><span class="sc11">parse_error</span><span class="sc10">&amp;</span><span class="sc0"> </span><span class="sc11">e</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">QMessageBox</span><span class="sc0"> </span><span class="sc11">msgBox</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">setText</span><span class="sc10">(</span><span class="sc6">"Message: "</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">what</span><span class="sc10">())</span><span class="sc0">
                       </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">".\nException id: "</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">number</span><span class="sc10">(</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">id</span><span class="sc10">)</span><span class="sc0">
                       </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">".\nByte position of error: "</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">number</span><span class="sc10">(</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">byte</span><span class="sc10">)</span><span class="sc0">
                       </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">".\nPossibly no data has been downloaded and buffer is empty."</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">setWindowTitle</span><span class="sc10">(</span><span class="sc6">"Internal binCon Error!"</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">exec</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">

    </span><span class="sc5">return</span><span class="sc0"> </span><span class="sc11">j</span><span class="sc10">;</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">

</span><span class="sc11">json</span><span class="sc0"> </span><span class="sc11">binConCl</span><span class="sc10">::</span><span class="sc11">getCandles</span><span class="sc10">(</span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">coin</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">interval</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">limit</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">

    </span><span class="sc11">QObject</span><span class="sc10">::</span><span class="sc11">connect</span><span class="sc10">(&amp;</span><span class="sc11">mgr</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SIGNAL</span><span class="sc10">(</span><span class="sc11">finished</span><span class="sc10">(</span><span class="sc11">QNetworkReply</span><span class="sc10">*)),</span><span class="sc0"> </span><span class="sc10">&amp;</span><span class="sc11">eventLoop</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SLOT</span><span class="sc10">(</span><span class="sc11">quit</span><span class="sc10">()));</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">endpoint_candles</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"/api/v3/klines"</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">url</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">burl</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">endpoint_candles</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">"?symbol="</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">coin</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">"USDT&amp;interval="</span><span class="sc10">+</span><span class="sc11">interval</span><span class="sc10">+</span><span class="sc6">"&amp;limit="</span><span class="sc10">+</span><span class="sc11">limit</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">req</span><span class="sc10">.</span><span class="sc11">setUrl</span><span class="sc10">(</span><span class="sc11">QUrl</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">url</span><span class="sc10">)));</span><span class="sc0">
    </span><span class="sc11">reply</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">mgr</span><span class="sc10">.</span><span class="sc11">get</span><span class="sc10">(</span><span class="sc11">req</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">eventLoop</span><span class="sc10">.</span><span class="sc11">exec</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc11">buffer</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">reply</span><span class="sc10">-&gt;</span><span class="sc11">readAll</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc5">delete</span><span class="sc0"> </span><span class="sc11">reply</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">buffer_s</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">buffer</span><span class="sc10">.</span><span class="sc11">toStdString</span><span class="sc10">();</span><span class="sc0">

    </span><span class="sc5">try</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">j</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">json</span><span class="sc10">::</span><span class="sc11">parse</span><span class="sc10">(</span><span class="sc11">buffer_s</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0"> </span><span class="sc5">catch</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc16">const</span><span class="sc0"> </span><span class="sc11">json</span><span class="sc10">::</span><span class="sc11">parse_error</span><span class="sc10">&amp;</span><span class="sc0"> </span><span class="sc11">e</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">QMessageBox</span><span class="sc0"> </span><span class="sc11">msgBox</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">setText</span><span class="sc10">(</span><span class="sc6">"Message: "</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">what</span><span class="sc10">())</span><span class="sc0">
                       </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">".\nException id: "</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">number</span><span class="sc10">(</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">id</span><span class="sc10">)</span><span class="sc0">
                       </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">".\nByte position of error: "</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">number</span><span class="sc10">(</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">byte</span><span class="sc10">)</span><span class="sc0">
                       </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">".\nPossibly no data has been downloaded and buffer is empty."</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">setWindowTitle</span><span class="sc10">(</span><span class="sc6">"Internal binCon Error!"</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">exec</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">

    </span><span class="sc5">return</span><span class="sc0"> </span><span class="sc11">j</span><span class="sc10">;</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">


</span><span class="sc11">json</span><span class="sc0"> </span><span class="sc11">binConCl</span><span class="sc10">::</span><span class="sc11">get24hTicker</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">

    </span><span class="sc11">QObject</span><span class="sc10">::</span><span class="sc11">connect</span><span class="sc10">(&amp;</span><span class="sc11">mgr</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SIGNAL</span><span class="sc10">(</span><span class="sc11">finished</span><span class="sc10">(</span><span class="sc11">QNetworkReply</span><span class="sc10">*)),</span><span class="sc0"> </span><span class="sc10">&amp;</span><span class="sc11">eventLoop</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SLOT</span><span class="sc10">(</span><span class="sc11">quit</span><span class="sc10">()));</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">endpoint_24hTicker</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"/api/v3/ticker/24hr"</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc2">//?symbol=RLCUSDT
</span><span class="sc0">    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">url</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">burl</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">endpoint_24hTicker</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">req</span><span class="sc10">.</span><span class="sc11">setUrl</span><span class="sc10">(</span><span class="sc11">QUrl</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">url</span><span class="sc10">)));</span><span class="sc0">
    </span><span class="sc11">reply</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">mgr</span><span class="sc10">.</span><span class="sc11">get</span><span class="sc10">(</span><span class="sc11">req</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">eventLoop</span><span class="sc10">.</span><span class="sc11">exec</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc11">buffer</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">reply</span><span class="sc10">-&gt;</span><span class="sc11">readAll</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc5">delete</span><span class="sc0"> </span><span class="sc11">reply</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">buffer_s</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">buffer</span><span class="sc10">.</span><span class="sc11">toStdString</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc11">j</span><span class="sc10">.</span><span class="sc11">clear</span><span class="sc10">();</span><span class="sc0">

    </span><span class="sc5">try</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">j</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">json</span><span class="sc10">::</span><span class="sc11">parse</span><span class="sc10">(</span><span class="sc11">buffer_s</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0"> </span><span class="sc5">catch</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc16">const</span><span class="sc0"> </span><span class="sc11">json</span><span class="sc10">::</span><span class="sc11">parse_error</span><span class="sc10">&amp;</span><span class="sc0"> </span><span class="sc11">e</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">QMessageBox</span><span class="sc0"> </span><span class="sc11">msgBox</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">setText</span><span class="sc10">(</span><span class="sc6">"Message: "</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">what</span><span class="sc10">())</span><span class="sc0">
                       </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">".\nException id: "</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">number</span><span class="sc10">(</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">id</span><span class="sc10">)</span><span class="sc0">
                       </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">".\nByte position of error: "</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">number</span><span class="sc10">(</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">byte</span><span class="sc10">)</span><span class="sc0">
                       </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">".\nPossibly no data has been downloaded and buffer is empty."</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">setWindowTitle</span><span class="sc10">(</span><span class="sc6">"Internal binCon Error!"</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">exec</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">

    </span><span class="sc5">return</span><span class="sc0"> </span><span class="sc11">j</span><span class="sc10">;</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">

</span><span class="sc11">json</span><span class="sc0"> </span><span class="sc11">binConCl</span><span class="sc10">::</span><span class="sc11">get24hTickerCoin</span><span class="sc10">(</span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">coin</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">

       </span><span class="sc11">QObject</span><span class="sc10">::</span><span class="sc11">connect</span><span class="sc10">(&amp;</span><span class="sc11">mgr</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SIGNAL</span><span class="sc10">(</span><span class="sc11">finished</span><span class="sc10">(</span><span class="sc11">QNetworkReply</span><span class="sc10">*)),</span><span class="sc0"> </span><span class="sc10">&amp;</span><span class="sc11">eventLoop</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SLOT</span><span class="sc10">(</span><span class="sc11">quit</span><span class="sc10">()));</span><span class="sc0">
       </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">endpoint_24hTickerCoin</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"/api/v3/ticker/24hr"</span><span class="sc10">;</span><span class="sc0">
       </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">url</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">burl</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">endpoint_24hTickerCoin</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">"?symbol="</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">coin</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">"USDT"</span><span class="sc10">;</span><span class="sc0">
       </span><span class="sc11">req</span><span class="sc10">.</span><span class="sc11">setUrl</span><span class="sc10">(</span><span class="sc11">QUrl</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">url</span><span class="sc10">)));</span><span class="sc0">
       </span><span class="sc11">reply</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">mgr</span><span class="sc10">.</span><span class="sc11">get</span><span class="sc10">(</span><span class="sc11">req</span><span class="sc10">);</span><span class="sc0">
       </span><span class="sc11">eventLoop</span><span class="sc10">.</span><span class="sc11">exec</span><span class="sc10">();</span><span class="sc0">
       </span><span class="sc11">buffer</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">reply</span><span class="sc10">-&gt;</span><span class="sc11">readAll</span><span class="sc10">();</span><span class="sc0">
       </span><span class="sc5">delete</span><span class="sc0"> </span><span class="sc11">reply</span><span class="sc10">;</span><span class="sc0">
       </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">buffer_s</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">buffer</span><span class="sc10">.</span><span class="sc11">toStdString</span><span class="sc10">();</span><span class="sc0">
       </span><span class="sc11">j</span><span class="sc10">.</span><span class="sc11">clear</span><span class="sc10">();</span><span class="sc0">

       </span><span class="sc5">try</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
           </span><span class="sc11">j</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">json</span><span class="sc10">::</span><span class="sc11">parse</span><span class="sc10">(</span><span class="sc11">buffer_s</span><span class="sc10">);</span><span class="sc0">
       </span><span class="sc10">}</span><span class="sc0"> </span><span class="sc5">catch</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc16">const</span><span class="sc0"> </span><span class="sc11">json</span><span class="sc10">::</span><span class="sc11">parse_error</span><span class="sc10">&amp;</span><span class="sc0"> </span><span class="sc11">e</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
           </span><span class="sc11">QMessageBox</span><span class="sc0"> </span><span class="sc11">msgBox</span><span class="sc10">;</span><span class="sc0">
           </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">setText</span><span class="sc10">(</span><span class="sc6">"Message: "</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">what</span><span class="sc10">())</span><span class="sc0">
                          </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">".\nException id: "</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">number</span><span class="sc10">(</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">id</span><span class="sc10">)</span><span class="sc0">
                          </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">".\nByte position of error: "</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">number</span><span class="sc10">(</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">byte</span><span class="sc10">)</span><span class="sc0">
                          </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">".\nPossibly no data has been downloaded and buffer is empty."</span><span class="sc10">);</span><span class="sc0">
           </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">setWindowTitle</span><span class="sc10">(</span><span class="sc6">"Internal binCon Error!"</span><span class="sc10">);</span><span class="sc0">
           </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">exec</span><span class="sc10">();</span><span class="sc0">
       </span><span class="sc10">}</span><span class="sc0">

       </span><span class="sc5">return</span><span class="sc0"> </span><span class="sc11">j</span><span class="sc10">;</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">

</span><span class="sc11">json</span><span class="sc0"> </span><span class="sc11">binConCl</span><span class="sc10">::</span><span class="sc11">getPriceAll</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">

       </span><span class="sc11">QObject</span><span class="sc10">::</span><span class="sc11">connect</span><span class="sc10">(&amp;</span><span class="sc11">mgr</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SIGNAL</span><span class="sc10">(</span><span class="sc11">finished</span><span class="sc10">(</span><span class="sc11">QNetworkReply</span><span class="sc10">*)),</span><span class="sc0"> </span><span class="sc10">&amp;</span><span class="sc11">eventLoop</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SLOT</span><span class="sc10">(</span><span class="sc11">quit</span><span class="sc10">()));</span><span class="sc0">
       </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">endpoint_PriceAll</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"/api/v3/ticker/price"</span><span class="sc10">;</span><span class="sc0">
       </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">url</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">burl</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">endpoint_PriceAll</span><span class="sc10">;</span><span class="sc0">
       </span><span class="sc11">req</span><span class="sc10">.</span><span class="sc11">setUrl</span><span class="sc10">(</span><span class="sc11">QUrl</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">url</span><span class="sc10">)));</span><span class="sc0">
       </span><span class="sc11">reply</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">mgr</span><span class="sc10">.</span><span class="sc11">get</span><span class="sc10">(</span><span class="sc11">req</span><span class="sc10">);</span><span class="sc0">
       </span><span class="sc11">eventLoop</span><span class="sc10">.</span><span class="sc11">exec</span><span class="sc10">();</span><span class="sc0">
       </span><span class="sc11">buffer</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">reply</span><span class="sc10">-&gt;</span><span class="sc11">readAll</span><span class="sc10">();</span><span class="sc0">
       </span><span class="sc5">delete</span><span class="sc0"> </span><span class="sc11">reply</span><span class="sc10">;</span><span class="sc0">
       </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">buffer_s</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">buffer</span><span class="sc10">.</span><span class="sc11">toStdString</span><span class="sc10">();</span><span class="sc0">
       </span><span class="sc11">j</span><span class="sc10">.</span><span class="sc11">clear</span><span class="sc10">();</span><span class="sc0">

       </span><span class="sc5">try</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
           </span><span class="sc11">j</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">json</span><span class="sc10">::</span><span class="sc11">parse</span><span class="sc10">(</span><span class="sc11">buffer_s</span><span class="sc10">);</span><span class="sc0">
       </span><span class="sc10">}</span><span class="sc0"> </span><span class="sc5">catch</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc16">const</span><span class="sc0"> </span><span class="sc11">json</span><span class="sc10">::</span><span class="sc11">parse_error</span><span class="sc10">&amp;</span><span class="sc0"> </span><span class="sc11">e</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
           </span><span class="sc11">QMessageBox</span><span class="sc0"> </span><span class="sc11">msgBox</span><span class="sc10">;</span><span class="sc0">
           </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">setText</span><span class="sc10">(</span><span class="sc6">"Message: "</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">what</span><span class="sc10">())</span><span class="sc0">
                          </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">".\nException id: "</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">number</span><span class="sc10">(</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">id</span><span class="sc10">)</span><span class="sc0">
                          </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">".\nByte position of error: "</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">number</span><span class="sc10">(</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">byte</span><span class="sc10">)</span><span class="sc0">
                          </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">".\nPossibly no data has been downloaded and buffer is empty."</span><span class="sc10">);</span><span class="sc0">
           </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">setWindowTitle</span><span class="sc10">(</span><span class="sc6">"Internal binCon Error!"</span><span class="sc10">);</span><span class="sc0">
           </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">exec</span><span class="sc10">();</span><span class="sc0">
       </span><span class="sc10">}</span><span class="sc0">

       </span><span class="sc5">return</span><span class="sc0"> </span><span class="sc11">j</span><span class="sc10">;</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">

</span><span class="sc11">json</span><span class="sc0"> </span><span class="sc11">binConCl</span><span class="sc10">::</span><span class="sc11">getPrice</span><span class="sc10">(</span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">coin</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">

     </span><span class="sc11">QObject</span><span class="sc10">::</span><span class="sc11">connect</span><span class="sc10">(&amp;</span><span class="sc11">mgr</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SIGNAL</span><span class="sc10">(</span><span class="sc11">finished</span><span class="sc10">(</span><span class="sc11">QNetworkReply</span><span class="sc10">*)),</span><span class="sc0"> </span><span class="sc10">&amp;</span><span class="sc11">eventLoop</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SLOT</span><span class="sc10">(</span><span class="sc11">quit</span><span class="sc10">()));</span><span class="sc0">
     </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">endpoint_Price</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"/api/v3/ticker/price?symbol="</span><span class="sc10">;</span><span class="sc0">
     </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">url</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">burl</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">endpoint_Price</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">coin</span><span class="sc10">;</span><span class="sc0">
     </span><span class="sc11">req</span><span class="sc10">.</span><span class="sc11">setUrl</span><span class="sc10">(</span><span class="sc11">QUrl</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">url</span><span class="sc10">)));</span><span class="sc0">
     </span><span class="sc11">reply</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">mgr</span><span class="sc10">.</span><span class="sc11">get</span><span class="sc10">(</span><span class="sc11">req</span><span class="sc10">);</span><span class="sc0">
     </span><span class="sc11">eventLoop</span><span class="sc10">.</span><span class="sc11">exec</span><span class="sc10">();</span><span class="sc0">
     </span><span class="sc11">buffer</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">reply</span><span class="sc10">-&gt;</span><span class="sc11">readAll</span><span class="sc10">();</span><span class="sc0">
     </span><span class="sc5">delete</span><span class="sc0"> </span><span class="sc11">reply</span><span class="sc10">;</span><span class="sc0">
     </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">buffer_s</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">buffer</span><span class="sc10">.</span><span class="sc11">toStdString</span><span class="sc10">();</span><span class="sc0">
     </span><span class="sc11">j</span><span class="sc10">.</span><span class="sc11">clear</span><span class="sc10">();</span><span class="sc0">

     </span><span class="sc5">try</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
         </span><span class="sc11">j</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">json</span><span class="sc10">::</span><span class="sc11">parse</span><span class="sc10">(</span><span class="sc11">buffer_s</span><span class="sc10">);</span><span class="sc0">
     </span><span class="sc10">}</span><span class="sc0"> </span><span class="sc5">catch</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc16">const</span><span class="sc0"> </span><span class="sc11">json</span><span class="sc10">::</span><span class="sc11">parse_error</span><span class="sc10">&amp;</span><span class="sc0"> </span><span class="sc11">e</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
         </span><span class="sc11">QMessageBox</span><span class="sc0"> </span><span class="sc11">msgBox</span><span class="sc10">;</span><span class="sc0">
         </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">setText</span><span class="sc10">(</span><span class="sc6">"Message: "</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">what</span><span class="sc10">())</span><span class="sc0">
                        </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">".\nException id: "</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">number</span><span class="sc10">(</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">id</span><span class="sc10">)</span><span class="sc0">
                        </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">".\nByte position of error: "</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">number</span><span class="sc10">(</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">byte</span><span class="sc10">)</span><span class="sc0">
                        </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">".\nPossibly no data has been downloaded and buffer is empty."</span><span class="sc10">);</span><span class="sc0">
         </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">setWindowTitle</span><span class="sc10">(</span><span class="sc6">"Internal binCon Error!"</span><span class="sc10">);</span><span class="sc0">
         </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">exec</span><span class="sc10">();</span><span class="sc0">
     </span><span class="sc10">}</span><span class="sc0">

     </span><span class="sc5">return</span><span class="sc0"> </span><span class="sc11">j</span><span class="sc10">;</span><span class="sc0">
 </span><span class="sc10">}</span><span class="sc0">

</span><span class="sc11">json</span><span class="sc0"> </span><span class="sc11">binConCl</span><span class="sc10">::</span><span class="sc11">getBookTicker</span><span class="sc10">(){</span><span class="sc0">

    </span><span class="sc11">QObject</span><span class="sc10">::</span><span class="sc11">connect</span><span class="sc10">(&amp;</span><span class="sc11">mgr</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SIGNAL</span><span class="sc10">(</span><span class="sc11">finished</span><span class="sc10">(</span><span class="sc11">QNetworkReply</span><span class="sc10">*)),</span><span class="sc0"> </span><span class="sc10">&amp;</span><span class="sc11">eventLoop</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SLOT</span><span class="sc10">(</span><span class="sc11">quit</span><span class="sc10">()));</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">endpoint_BookTicker</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"/api/v3/ticker/bookTicker"</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">url</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">burl</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">endpoint_BookTicker</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">req</span><span class="sc10">.</span><span class="sc11">setUrl</span><span class="sc10">(</span><span class="sc11">QUrl</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">url</span><span class="sc10">)));</span><span class="sc0">
    </span><span class="sc11">reply</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">mgr</span><span class="sc10">.</span><span class="sc11">get</span><span class="sc10">(</span><span class="sc11">req</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">eventLoop</span><span class="sc10">.</span><span class="sc11">exec</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc11">buffer</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">reply</span><span class="sc10">-&gt;</span><span class="sc11">readAll</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc5">delete</span><span class="sc0"> </span><span class="sc11">reply</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">buffer_s</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">buffer</span><span class="sc10">.</span><span class="sc11">toStdString</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc11">j</span><span class="sc10">.</span><span class="sc11">clear</span><span class="sc10">();</span><span class="sc0">

    </span><span class="sc5">try</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">j</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">json</span><span class="sc10">::</span><span class="sc11">parse</span><span class="sc10">(</span><span class="sc11">buffer_s</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0"> </span><span class="sc5">catch</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc16">const</span><span class="sc0"> </span><span class="sc11">json</span><span class="sc10">::</span><span class="sc11">parse_error</span><span class="sc10">&amp;</span><span class="sc0"> </span><span class="sc11">e</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">QMessageBox</span><span class="sc0"> </span><span class="sc11">msgBox</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">setText</span><span class="sc10">(</span><span class="sc6">"Message: "</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">what</span><span class="sc10">())</span><span class="sc0">
                       </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">".\nException id: "</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">number</span><span class="sc10">(</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">id</span><span class="sc10">)</span><span class="sc0">
                       </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">".\nByte position of error: "</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">number</span><span class="sc10">(</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">byte</span><span class="sc10">)</span><span class="sc0">
                       </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">".\nPossibly no data has been downloaded and buffer is empty."</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">setWindowTitle</span><span class="sc10">(</span><span class="sc6">"Internal binCon Error!"</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">exec</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">

    </span><span class="sc5">return</span><span class="sc0"> </span><span class="sc11">j</span><span class="sc10">;</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc2">//namespace binCon
</span></div>

&emsp;Im Internet können wir ein paar HTTP-Anfragemuster in Qt finden, einige von ihnen sind als schlechte Praxis angesehen, aber ich denke, dass für einfache Projekte und für bestimmte Zwecken, sind sie genug. Allgemein basiert Qt auf Signals und Slots Entwurfsmuster und das sollte das korrekte Weg für das Design sein, um den Algorithmus in mehrere individuelle Schritte zu teilen. Werfen wir einen Blick auf die <span class = "code_quote">json getCandles(std::string coin, std::string interval, std::string limit)</span> Funktion und das erste Beispiel mit QEventLoop:<br/>

<br/>
<button id="changeCodeHeightBtn_id_6" onclick="change_code_height('6')" style="float:right; width:100px;">100% height</button>
<br/>

<div id="code_id_6"  class="code_long"><span class="sc11">json</span><span class="sc0"> </span><span class="sc11">binConCl</span><span class="sc10">::</span><span class="sc11">getCandles</span><span class="sc10">(</span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">coin</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">interval</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">limit</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">

    </span><span class="sc11">QObject</span><span class="sc10">::</span><span class="sc11">connect</span><span class="sc10">(&amp;</span><span class="sc11">mgr</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SIGNAL</span><span class="sc10">(</span><span class="sc11">finished</span><span class="sc10">(</span><span class="sc11">QNetworkReply</span><span class="sc10">*)),</span><span class="sc0"> </span><span class="sc10">&amp;</span><span class="sc11">eventLoop</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SLOT</span><span class="sc10">(</span><span class="sc11">quit</span><span class="sc10">()));</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">endpoint_candles</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"/api/v3/klines"</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">url</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">burl</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">endpoint_candles</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">"?symbol="</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">coin</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">"USDT&amp;interval="</span><span class="sc10">+</span><span class="sc11">interval</span><span class="sc10">+</span><span class="sc6">"&amp;limit="</span><span class="sc10">+</span><span class="sc11">limit</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">req</span><span class="sc10">.</span><span class="sc11">setUrl</span><span class="sc10">(</span><span class="sc11">QUrl</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">url</span><span class="sc10">)));</span><span class="sc0">
    </span><span class="sc11">reply</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">mgr</span><span class="sc10">.</span><span class="sc11">get</span><span class="sc10">(</span><span class="sc11">req</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">eventLoop</span><span class="sc10">.</span><span class="sc11">exec</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc11">buffer</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">reply</span><span class="sc10">-&gt;</span><span class="sc11">readAll</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc5">delete</span><span class="sc0"> </span><span class="sc11">reply</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">buffer_s</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">buffer</span><span class="sc10">.</span><span class="sc11">toStdString</span><span class="sc10">();</span><span class="sc0">

    </span><span class="sc5">try</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">j</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">json</span><span class="sc10">::</span><span class="sc11">parse</span><span class="sc10">(</span><span class="sc11">buffer_s</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0"> </span><span class="sc5">catch</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc16">const</span><span class="sc0"> </span><span class="sc11">json</span><span class="sc10">::</span><span class="sc11">parse_error</span><span class="sc10">&amp;</span><span class="sc0"> </span><span class="sc11">e</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">QMessageBox</span><span class="sc0"> </span><span class="sc11">msgBox</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">setText</span><span class="sc10">(</span><span class="sc6">"Message: "</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">what</span><span class="sc10">())</span><span class="sc0">
                       </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">".\nException id: "</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">number</span><span class="sc10">(</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">id</span><span class="sc10">)</span><span class="sc0">
                       </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">".\nByte position of error: "</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">number</span><span class="sc10">(</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">byte</span><span class="sc10">)</span><span class="sc0">
                       </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">".\nPossibly no data has been downloaded and buffer is empty."</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">setWindowTitle</span><span class="sc10">(</span><span class="sc6">"Internal binCon Error!"</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">exec</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">

    </span><span class="sc5">return</span><span class="sc0"> </span><span class="sc11">j</span><span class="sc10">;</span><span class="sc0">
</span><span class="sc10">}</span></div>

Der wichtigste Teil ist, wenn wir die Anfrage <span class="code_quote">reply = mgr.get(req)</span> senden, weil dann wir eine asynchrone Operation starten. Falls <span class="code_quote">eventLoop.exec()</span> weggelassen würde, dann hätten wir keine Garantie, dass <span class="code_quote">buffer = reply->readAll()</span> abgeschlossen wird, da die Antwort noch nicht kommen kann! Mit der <span class="code_quote">eventLoop.exec()</span> blockieren wir den Stack und wir geben der Ereignisschleife die Priorität um alle Ereignisse auszuführen und danach mit dem Rest des Stacks weitergehen, wenn die Antwort zurückgegeben wird und QEventLoop erhält die Information zu aufhören, dank an <span class="code_quote">QObject::connect(&mgr, SIGNAL(finished(QNetworkReply*)), &eventLoop, SLOT(quit()))</span>.<br/>
&emsp;Die zweite Optione, die macht das Ding, ist <span class="code_quote">QApplication::processEvents()</span>, aber wie erwähnt in der <a class="external_link" target="_blank" href="https://doc.qt.io/qt-6/qcoreapplication.html#processEvents" >Dokumentation</a>:<br/>

<span class="quote">Die Nutzung von dieser Funktion ist nicht empfohlen, stattdessen bevorzugen Sie lange Operationen aus den GUI-Thread in einem Hilfs-Thread zubewegen und vermeiden Sie vollständig die Nutzung verschachtelter Ereignisschleifen. Wenn die Verarbeitung Ereignissen wirklich nötig ist, denken Sie an die Verwendung der QEventLoop dafür.</span><br/>

Wir mussen auch <span class="code_quote">#include &lt;QApplication&gt;</span> angeben, so dass funktioniert:<br/>

<br/>
<button id="changeCodeHeightBtn_id_7" onclick="change_code_height('7')" style="float:right; width:100px;">100% height</button>
<br/>

<div id="code_id_7"  class="code_long"><span class="sc11">json</span><span class="sc0"> </span><span class="sc11">binConCl</span><span class="sc10">::</span><span class="sc11">getCandles</span><span class="sc10">(</span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">coin</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">interval</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">limit</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">

    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">endpoint_candles</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"/api/v3/klines"</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">url</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">burl</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">endpoint_candles</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">"?symbol="</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">coin</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">"USDT&amp;interval="</span><span class="sc10">+</span><span class="sc11">interval</span><span class="sc10">+</span><span class="sc6">"&amp;limit="</span><span class="sc10">+</span><span class="sc11">limit</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">req</span><span class="sc10">.</span><span class="sc11">setUrl</span><span class="sc10">(</span><span class="sc11">QUrl</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">url</span><span class="sc10">)));</span><span class="sc0">
    </span><span class="sc11">reply</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">mgr</span><span class="sc10">.</span><span class="sc11">get</span><span class="sc10">(</span><span class="sc11">req</span><span class="sc10">);</span><span class="sc0">
    
    </span><span class="sc5">while</span><span class="sc0"> </span><span class="sc10">(!</span><span class="sc11">reply</span><span class="sc10">-&gt;</span><span class="sc11">isFinished</span><span class="sc10">()){</span><span class="sc0">
        </span><span class="sc11">QApplication</span><span class="sc10">::</span><span class="sc11">processEvents</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">
    
    </span><span class="sc11">buffer</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">reply</span><span class="sc10">-&gt;</span><span class="sc11">readAll</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc5">delete</span><span class="sc0"> </span><span class="sc11">reply</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">buffer_s</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">buffer</span><span class="sc10">.</span><span class="sc11">toStdString</span><span class="sc10">();</span><span class="sc0">

    </span><span class="sc5">try</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">j</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">json</span><span class="sc10">::</span><span class="sc11">parse</span><span class="sc10">(</span><span class="sc11">buffer_s</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0"> </span><span class="sc5">catch</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc16">const</span><span class="sc0"> </span><span class="sc11">json</span><span class="sc10">::</span><span class="sc11">parse_error</span><span class="sc10">&amp;</span><span class="sc0"> </span><span class="sc11">e</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">QMessageBox</span><span class="sc0"> </span><span class="sc11">msgBox</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">setText</span><span class="sc10">(</span><span class="sc6">"Message: "</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">what</span><span class="sc10">())</span><span class="sc0">
                       </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">".\nException id: "</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">number</span><span class="sc10">(</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">id</span><span class="sc10">)</span><span class="sc0">
                       </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">".\nByte position of error: "</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">number</span><span class="sc10">(</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">byte</span><span class="sc10">)</span><span class="sc0">
                       </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">".\nPossibly no data has been downloaded and buffer is empty."</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">setWindowTitle</span><span class="sc10">(</span><span class="sc6">"Internal binCon Error!"</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">exec</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">

    </span><span class="sc5">return</span><span class="sc0"> </span><span class="sc11">j</span><span class="sc10">;</span><span class="sc0">
</span><span class="sc10">}</span></div>


Wir nutzen keine Signals/Slots in diesem Beispiel, nur Aufgaben der Ereignisschleife verarbeiten, bis die Antwort ist vollendet.
Übrigens denke ich mich an der schlechte Code, der wird nich funktionieren, aber ich habe ein paar Male die Frage über dieses Thema gesehen und ich überlegte, es selbst zu verwenden, es sieht gleich wie oben aus, nur ohne die <span class="code_quote">QApplication::processEvents()</span> Funktion in der while-Schleife. In solchem Beispiel erwarten wir, dass die while-Schleife nach sie die Antwort bekomme und erlaubt vollständige Daten lesen, sie abgeschlossen wird. Es wird nicht passiert, da sie völlig das Programm blockiert wird und sie wird die Ereignisschleife prozessen und die Antwort in Stack zurückerhalten nicht erlauben. <br/>

&emsp;Das letzte Muster, das ich erwähnen möchte, ist das richtigsten, das am besten zur Qt-Philosophie passt, wenn ich das so sagen darf:<br/>

<br/>
<button id="changeCodeHeightBtn_id_8" onclick="change_code_height('8')" style="float:right; width:100px;">100% height</button>
<br/>

<div id="code_id_8"  class="code_long"><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">binConCl</span><span class="sc10">::</span><span class="sc11">replyFinished</span><span class="sc10">(</span><span class="sc11">QNetworkReply</span><span class="sc0"> </span><span class="sc10">*</span><span class="sc11">reply</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">

    </span><span class="sc11">buffer</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">reply</span><span class="sc10">-&gt;</span><span class="sc11">readAll</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc5">delete</span><span class="sc0"> </span><span class="sc11">reply</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">buffer_s</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">buffer</span><span class="sc10">.</span><span class="sc11">toStdString</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc5">try</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">j</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">json</span><span class="sc10">::</span><span class="sc11">parse</span><span class="sc10">(</span><span class="sc11">buffer_s</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0"> </span><span class="sc5">catch</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc16">const</span><span class="sc0"> </span><span class="sc11">json</span><span class="sc10">::</span><span class="sc11">parse_error</span><span class="sc10">&amp;</span><span class="sc0"> </span><span class="sc11">e</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">QMessageBox</span><span class="sc0"> </span><span class="sc11">msgBox</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">setText</span><span class="sc10">(</span><span class="sc6">"Message: "</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">what</span><span class="sc10">())</span><span class="sc0">
                       </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">".\nException id: "</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">number</span><span class="sc10">(</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">id</span><span class="sc10">)</span><span class="sc0">
                       </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">".\nByte position of error: "</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">number</span><span class="sc10">(</span><span class="sc11">e</span><span class="sc10">.</span><span class="sc11">byte</span><span class="sc10">)</span><span class="sc0">
                       </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">".\nPossibly no data has been downloaded and buffer is empty."</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">setWindowTitle</span><span class="sc10">(</span><span class="sc6">"Internal binCon Error!"</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">msgBox</span><span class="sc10">.</span><span class="sc11">exec</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">
    
    </span><span class="sc11">emit</span><span class="sc0"> </span><span class="sc11">getCadlesReadySignal</span><span class="sc10">(j);</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">binConCl</span><span class="sc10">::</span><span class="sc11">getCandles</span><span class="sc10">(</span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">coin</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">interval</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">limit</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">

    </span><span class="sc11">QObject</span><span class="sc10">::</span><span class="sc11">connect</span><span class="sc10">(&amp;</span><span class="sc11">mgr</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SIGNAL</span><span class="sc10">(</span><span class="sc11">finished</span><span class="sc10">(</span><span class="sc11">QNetworkReply</span><span class="sc10">*)),</span><span class="sc0"> </span><span class="sc5">this</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">SLOT</span><span class="sc10">(</span><span class="sc11">replyFinished</span><span class="sc10">(</span><span class="sc11">QNetworkReply</span><span class="sc10">*)));</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">endpoint_candles</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"/api/v3/klines"</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">url</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">burl</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">endpoint_candles</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">"?symbol="</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">coin</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">"USDT&amp;interval="</span><span class="sc10">+</span><span class="sc11">interval</span><span class="sc10">+</span><span class="sc6">"&amp;limit="</span><span class="sc10">+</span><span class="sc11">limit</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">req</span><span class="sc10">.</span><span class="sc11">setUrl</span><span class="sc10">(</span><span class="sc11">QUrl</span><span class="sc10">(</span><span class="sc11">QString</span><span class="sc10">::</span><span class="sc11">fromStdString</span><span class="sc10">(</span><span class="sc11">url</span><span class="sc10">)));</span><span class="sc0">
    </span><span class="sc11">reply</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">mgr</span><span class="sc10">.</span><span class="sc11">get</span><span class="sc10">(</span><span class="sc11">req</span><span class="sc10">);</span><span class="sc0">
</span><span class="sc10">}</span></div>

Zuerst verbinden wir das Signal vom Antwort zum Slot in unserer Klasse, deshalb weitergeben wir <span class="code_quote">this</span> <span class="code_quote">replyFinished(QNetworkReply*)</span>. Ich habe ein Problem erstes Mal gehabt, wenn diese Lösung testen, weil <span class="code_quote">QObject::connect()</span>, wie die Syntax vermuten lässt, verbindet sie QObjects. Ich habe keine Bedürfnis um meine binConCl Klasse von QObject erbeben zulassen, aber in einem solchen Fall es ist erforderlich (und denken Sie an das Q_OBJECT Makro!):<br/>

<div class = "code_short"><span class="sc5">namespace</span><span class="sc0"> </span><span class="sc11">binCon</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">

    </span><span class="sc16">class</span><span class="sc0"> </span><span class="sc11">binConCl</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc16">public</span><span class="sc0"> </span><span class="sc11">QObject</span><span class="sc0">
    </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">Q_OBJECT</span><span class="sc0">
    </span><span class="sc2">//(...)</span></div>

Die ganze Arbeit für die getCandles Funktion ist fertig, wenn wir um die Antwort bitten und <span class="code_quote">void binConCl::replyFinished(QNetworkReply *reply)</span> das Lesen erledigen wird. Schließlich können wir das Signal <span class="code_quote">emit</span>, genau wie haben wir das früher mit den eingebauten Signals in Qt Klassen gemacht, das Gleiche gilt auch z.B. für die GUI. Natürlich müssen wir richtige QObject Verbindung deklarieren, also geht das emit-Signal zum korrekten Slot, und wir müssen das in die <span class+"quote">binCon.h</span> machen. Endlich möchte ich Ihnen beraten, um den Code in separat .cpp und .h Dateien zu speichern, um die Probleme zu wermeiden, die habe ich getroffen, wenn ich das nicht getan habe. Qt könnte einfach das Programm nicht kompilieren, beschwerte sich, dass moc-Dateien generieren nicht möglich ist, und so weiter. Danach habe ich die Daten in separat Dataien getrennt und nach der Veränderung hat alles „einfach funktioniert“ ;).
</div>