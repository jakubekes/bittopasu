<span class = "content_title"> <a href="#/windows"> Windows</a> / <span class = "content_title_current">CSV Divider and something about chars representation  <span style="color:#f00;">DE Version</span></span></span>
<hr/>
<br/>

<div>
Die Hauptinspiration für das Schreiben dieses Codes war das MS Excel Zeilenlimit, das ist genau 1,048,576 und ich musste mit größeren Datensätzen von Zeit zu Zeit erledigen.<br/>
Beim Schreiben des Codes bin ich auf zwei Ausgaben gestoßen, die erste, keine neuen Zeilenzeichen - bei Verwendung von <span class="code_quote">getline()</span> bekommen wir die Linie ohne das Zeilenendezeichen (in Windows CRLF - carriage return und line feed, in hex 0x0D0A oder einfach das \n Zeichen) also mussen wir es addieren und das wäre Endlösung für die meisten Dateien. Das zweite Problem, ein bisschen schwieriger, war die Codierung der Datei, eigentlich war sie nicht standard CSV Datei aber nur großer TXT-Bericht, jedoch  konnte das Programm nicht erledigen. Gewöhnlich erstellt TXT-Dateien enthalten 8-Bit Zeichen in der UTF-8 Weise und arbeiten mit sie ist nicht hartnäckig, aber was wenn wir auf UTF-16 Dateien stoßen? Es wird zuerst empfohlen um über <a class="external_link" target="_blank" href="https://en.wikipedia.org/wiki/Byte_order_mark" >BOM (Byte Order Mark)</a> und <a class="external_link" target="_blank" href="https://en.wikipedia.org/wiki/Endianness">endianess</a> zu lesen.<br/>

&emsp;Die Versuchen um die Zeilenende also <span class="quote">0D 0A</span> zu zugeben, das ist egal ob ich das durch die Nutzung von <span class="code_quote">"\n"</span> oder <span class="code_quote">std::endl</span> oder <span class="code_quote">.write("\n")</span> fstream Methode gemacht habe, es immer beendete mit dieser Hex-Sequenz für die UTF-16 LE Datei: <span class="quote">0D 00 0D 0A</span>.<br/>

Das bedeutet es <span class="code_quote">getline()</span> nimmt nur <span class="quote">0A</span> als die Zeilenende und im Fall der UTF-16 LE Datei, sie lässt <span class="quote">0D 00</span> zurück, weil sie normalerweise <span class="quote">0D 0A</span> erwarten.<br/>
<span class="quote">0A</span> also nur LF ist die richtige Zeilenende für Linux und Mac Betriebssysteme. Daher wenn wir jede Zeile mit einem solchen Ende übrig haben, letztendlich haben wir zu <span class="quote">0D 00</span> die <span class="quote">0D 0A</span> Zeichen hinzugefügt, die das korrekte Zeilenende unter Windows ist, was führt uns am ende zu <span class="quote">0D 00 0D 0A</span>.<br/> 

&emsp;C++ hat eine Wegen auf höheren Ebenen zu miterledigen, aber ich habe entschieden um das auf der Bytelevel zu lösen. Wie oben erwähnt die <span class="code_quote">.write()</span> Methode könnte in dem Binärmodus teilweise erfolgreich angewendet werden, durch nur <span class="quote">0x0A</span> hinzugefügt wurde, jedoch im LE-Dataien Fall, hätten wir die folgende Nullzeiche (oder Nullzeichen im UTF32 Fall) zum Anfang des nächsten Teils verschoben. Ich habe dann <span class="quote">getline()</span> weggelassen und habe alles allein gemacht um die Endedaten in den Dateien sicher zu sein.</br>
Wenn wir im Binärmodus arbeiten, es ist wichtig wie wir die Datei lesen, wiel z.B. die <span class="quote">getline()</span> Methode im "while" Schleife wird EOF (end of file) erreichen
und die Datenstromsposition ändert sich auf -1. Das Gleiche wird passieren wenn den Puffer im Binärmodus mit der <span class="quote">read()</span> fstream Methode über die Größe der Datei lesen, endlich wird es unnötige Arbeit für die Berechnungen hinzufügen, also in meiner Anwendung lese ich die genaue Anzahl der Verbleibende Bytes falls sie ist niedriger als die Puffergröße, als Folge nie EOF erriechen, aber ich halte das <span class="code_quote">buffer_feed</span> was wichtig ist wenn die Daten zur endgültigen Datei schreiben, um überflüssige Daten nich speichern.<br/>
I musste diese Abhängigkeit entdecken wenn mit dem Offset im <span class="code_quote">infile</span> zurückziehen und das erneute Lesen von die Daten hat nicht richtig funktionert im <span class="code_quote">if (line_end_count == max_lines)</span> Teil.

<br/><br/>
<button id="changeCodeHeightBtn_id_1" onclick="change_code_height('1')" style="float:right; width:100px;">100% height</button>
<br/>

<div id="code_id_1" class = "code_long"><span class="sc9">#include &lt;iostream&gt;
#include &lt;fstream&gt;
#include &lt;string&gt;
#include &lt;filesystem&gt;
</span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">ifstream</span><span class="sc0"> </span><span class="sc11">infile</span><span class="sc10">;</span><span class="sc0">
</span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">ofstream</span><span class="sc0"> </span><span class="sc11">outfile</span><span class="sc10">;</span><span class="sc0">

</span><span class="sc16">enum</span><span class="sc0"> </span><span class="sc16">class</span><span class="sc0"> </span><span class="sc11">encoding</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
    </span><span class="sc11">UTF8</span><span class="sc10">,</span><span class="sc0">
    </span><span class="sc11">UTF8BOM</span><span class="sc10">,</span><span class="sc0">
    </span><span class="sc11">UTF16LE</span><span class="sc10">,</span><span class="sc0">
    </span><span class="sc11">UTF16BE</span><span class="sc10">,</span><span class="sc0">
    </span><span class="sc11">UTF32LE</span><span class="sc10">,</span><span class="sc0">
    </span><span class="sc11">UTF32BE</span><span class="sc0">
</span><span class="sc10">};</span><span class="sc0">

</span><span class="sc16">bool</span><span class="sc0"> </span><span class="sc11">is_string_num</span><span class="sc10">(</span><span class="sc16">const</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc10">&amp;</span><span class="sc11">max_line_s</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
    </span><span class="sc5">return</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc11">max_line_s</span><span class="sc10">.</span><span class="sc11">empty</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">&amp;&amp;</span><span class="sc0"> </span><span class="sc11">max_line_s</span><span class="sc10">.</span><span class="sc11">find_first_not_of</span><span class="sc10">(</span><span class="sc6">"0123456789"</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc10">::</span><span class="sc11">npos</span><span class="sc10">;</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">

</span><span class="sc16">void</span><span class="sc0"> </span><span class="sc11">outfile_is_good</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">ofstream</span><span class="sc0"> </span><span class="sc10">&amp;</span><span class="sc11">outfile</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc10">&amp;</span><span class="sc11">save_path</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">const</span><span class="sc0"> </span><span class="sc16">unsigned</span><span class="sc0"> </span><span class="sc16">long</span><span class="sc0"> </span><span class="sc16">long</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc10">&amp;</span><span class="sc11">outfile_part</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc16">const</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc10">&amp;</span><span class="sc11">extension</span><span class="sc10">){</span><span class="sc0">

    </span><span class="sc5">while</span><span class="sc0"> </span><span class="sc10">(!</span><span class="sc11">outfile</span><span class="sc10">.</span><span class="sc11">good</span><span class="sc10">())</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">cout</span><span class="sc0"> </span><span class="sc10">&lt;&lt;</span><span class="sc0"> </span><span class="sc6">"Error occured when trying to open the file. Please try again, provide the source path or enter 'q' to exit the program.\n"</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">getline</span><span class="sc10">(</span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">cin</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">save_path</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">save_path</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc6">"q"</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">exit</span><span class="sc10">(</span><span class="sc4">1</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">save_path</span><span class="sc10">[</span><span class="sc4">0</span><span class="sc10">]</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc7">'"'</span><span class="sc0"> </span><span class="sc10">&amp;&amp;</span><span class="sc0"> </span><span class="sc11">save_path</span><span class="sc10">[</span><span class="sc11">save_path</span><span class="sc10">.</span><span class="sc11">length</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc4">1</span><span class="sc10">]</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc7">'"'</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">save_path</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">save_path</span><span class="sc10">.</span><span class="sc11">substr</span><span class="sc10">(</span><span class="sc4">1</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">save_path</span><span class="sc10">.</span><span class="sc11">length</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc4">2</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">save_path</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"\\\\?\\"</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">save_path</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">outfile</span><span class="sc10">.</span><span class="sc11">open</span><span class="sc10">(</span><span class="sc11">save_path</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">"_part"</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">to_string</span><span class="sc10">(</span><span class="sc11">outfile_part</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">"."</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">extension</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">ios</span><span class="sc10">::</span><span class="sc11">out</span><span class="sc0"> </span><span class="sc10">|</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">ios</span><span class="sc10">::</span><span class="sc11">app</span><span class="sc0"> </span><span class="sc10">|</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">ios</span><span class="sc10">::</span><span class="sc11">binary</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">
</span><span class="sc10">}</span><span class="sc0">

</span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">main</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">cout</span><span class="sc0"> </span><span class="sc10">&lt;&lt;</span><span class="sc0"> </span><span class="sc6">"This program divides text files into parts containing requested number of lines,\n"</span><span class="sc0">
        </span><span class="sc10">&lt;&lt;</span><span class="sc0"> </span><span class="sc6">"(for MS Excel max limit please enter 1048576).\n"</span><span class="sc0">
        </span><span class="sc10">&lt;&lt;</span><span class="sc0"> </span><span class="sc6">"It detects UTF - 8, UTF - 16 LE / BE, UTF - 32 LE / BE encoding by BOM detection,\n"</span><span class="sc0">
        </span><span class="sc10">&lt;&lt;</span><span class="sc0"> </span><span class="sc6">"in case of missing BOM it treats the file as UTF8 no BOM.\n"</span><span class="sc10">;</span><span class="sc0">

    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">cout</span><span class="sc0"> </span><span class="sc10">&lt;&lt;</span><span class="sc0"> </span><span class="sc6">"Please provide source path : \n"</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">src_path</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">getline</span><span class="sc10">(</span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">cin</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">src_path</span><span class="sc10">);</span><span class="sc0">

    </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">src_path</span><span class="sc10">[</span><span class="sc4">0</span><span class="sc10">]</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc7">'"'</span><span class="sc0"> </span><span class="sc10">&amp;&amp;</span><span class="sc0"> </span><span class="sc11">src_path</span><span class="sc10">[</span><span class="sc11">src_path</span><span class="sc10">.</span><span class="sc11">length</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc4">1</span><span class="sc10">]</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc7">'"'</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">src_path</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">src_path</span><span class="sc10">.</span><span class="sc11">substr</span><span class="sc10">(</span><span class="sc4">1</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">src_path</span><span class="sc10">.</span><span class="sc11">length</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc4">2</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">src_path</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"\\\\?\\"</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">src_path</span><span class="sc10">;</span><span class="sc0">

    </span><span class="sc5">while</span><span class="sc0"> </span><span class="sc10">(!</span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">filesystem</span><span class="sc10">::</span><span class="sc11">exists</span><span class="sc10">(</span><span class="sc11">src_path</span><span class="sc10">))</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
       </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">cout</span><span class="sc0"> </span><span class="sc10">&lt;&lt;</span><span class="sc0"> </span><span class="sc6">"Provided file doesn't exist! Please try again or enter 'q' to exit the program.\n"</span><span class="sc10">;</span><span class="sc0">
       </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">getline</span><span class="sc10">(</span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">cin</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">src_path</span><span class="sc10">);</span><span class="sc0">
       </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">src_path</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc6">"q"</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">exit</span><span class="sc10">(</span><span class="sc4">1</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">

    </span><span class="sc11">infile</span><span class="sc10">.</span><span class="sc11">open</span><span class="sc10">(</span><span class="sc11">src_path</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">ios</span><span class="sc10">::</span><span class="sc11">in</span><span class="sc0"> </span><span class="sc10">|</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">ios</span><span class="sc10">::</span><span class="sc11">binary</span><span class="sc10">);</span><span class="sc0">

    </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(!</span><span class="sc11">infile</span><span class="sc10">.</span><span class="sc11">is_open</span><span class="sc10">())</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">cout</span><span class="sc0"> </span><span class="sc10">&lt;&lt;</span><span class="sc0"> </span><span class="sc6">"Couldn't open the file, check if some other program is not blocking it and/or if you have rights to this file.\n"</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">exit</span><span class="sc10">(</span><span class="sc4">1</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">

    </span><span class="sc16">unsigned</span><span class="sc0"> </span><span class="sc16">long</span><span class="sc0"> </span><span class="sc16">long</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">outfile_part</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">1</span><span class="sc10">;</span><span class="sc0">

    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">cout</span><span class="sc0"> </span><span class="sc10">&lt;&lt;</span><span class="sc0"> </span><span class="sc6">"Provide save path including files basename: \n"</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">save_path</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">getline</span><span class="sc10">(</span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">cin</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">save_path</span><span class="sc10">);</span><span class="sc0">

    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">cout</span><span class="sc0"> </span><span class="sc10">&lt;&lt;</span><span class="sc0"> </span><span class="sc6">"Provide destination files extension: \n"</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">extension</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">getline</span><span class="sc10">(</span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">cin</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">extension</span><span class="sc10">);</span><span class="sc0">

    </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">save_path</span><span class="sc10">[</span><span class="sc4">0</span><span class="sc10">]</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc7">'"'</span><span class="sc0"> </span><span class="sc10">&amp;&amp;</span><span class="sc0"> </span><span class="sc11">save_path</span><span class="sc10">[</span><span class="sc11">save_path</span><span class="sc10">.</span><span class="sc11">length</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc4">1</span><span class="sc10">]</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc7">'"'</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">save_path</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">save_path</span><span class="sc10">.</span><span class="sc11">substr</span><span class="sc10">(</span><span class="sc4">1</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">save_path</span><span class="sc10">.</span><span class="sc11">length</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc4">2</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc11">save_path</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc6">"\\\\?\\"</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">save_path</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">outfile</span><span class="sc10">.</span><span class="sc11">open</span><span class="sc10">(</span><span class="sc11">save_path</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">"_part"</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">to_string</span><span class="sc10">(</span><span class="sc11">outfile_part</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">"."</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">extension</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">ios</span><span class="sc10">::</span><span class="sc11">out</span><span class="sc0"> </span><span class="sc10">|</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">ios</span><span class="sc10">::</span><span class="sc11">app</span><span class="sc0"> </span><span class="sc10">|</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">ios</span><span class="sc10">::</span><span class="sc11">binary</span><span class="sc10">);</span><span class="sc0">

    </span><span class="sc11">outfile_is_good</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">outfile</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">save_path</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">outfile_part</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">extension</span><span class="sc10">);</span><span class="sc0">

    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">cout</span><span class="sc0"> </span><span class="sc10">&lt;&lt;</span><span class="sc0"> </span><span class="sc6">"How many lines should be saved in one file?:\n"</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">string</span><span class="sc0"> </span><span class="sc11">max_lines_s</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">getline</span><span class="sc10">(</span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">cin</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">max_lines_s</span><span class="sc10">);</span><span class="sc0">

    </span><span class="sc5">while</span><span class="sc0"> </span><span class="sc10">(!</span><span class="sc11">is_string_num</span><span class="sc10">(</span><span class="sc11">max_lines_s</span><span class="sc10">))</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">cout</span><span class="sc0"> </span><span class="sc10">&lt;&lt;</span><span class="sc0"> </span><span class="sc6">"It's not a number, please try again or enter 'q' to exit the program.\n"</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">getline</span><span class="sc10">(</span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">cin</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">max_lines_s</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">max_lines_s</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc6">"q"</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">exit</span><span class="sc10">(</span><span class="sc4">1</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">

    </span><span class="sc16">unsigned</span><span class="sc0"> </span><span class="sc16">long</span><span class="sc0"> </span><span class="sc16">long</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">max_lines</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">stoull</span><span class="sc10">(</span><span class="sc11">max_lines_s</span><span class="sc10">);</span><span class="sc0">

    </span><span class="sc16">const</span><span class="sc0"> </span><span class="sc16">short</span><span class="sc0"> </span><span class="sc16">unsigned</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">buffer_size</span><span class="sc10">{</span><span class="sc0"> </span><span class="sc4">8192</span><span class="sc0"> </span><span class="sc10">};</span><span class="sc0">
    </span><span class="sc16">char</span><span class="sc0"> </span><span class="sc11">buffer</span><span class="sc0"> </span><span class="sc10">[</span><span class="sc11">buffer_size</span><span class="sc10">]{</span><span class="sc7">'\0'</span><span class="sc10">};</span><span class="sc0">
    </span><span class="sc11">infile</span><span class="sc10">.</span><span class="sc11">seekg</span><span class="sc10">(</span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">ios</span><span class="sc10">::</span><span class="sc11">end</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc16">size_t</span><span class="sc0"> </span><span class="sc11">infile_size</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">infile</span><span class="sc10">.</span><span class="sc11">tellg</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc11">infile</span><span class="sc10">.</span><span class="sc11">seekg</span><span class="sc10">(</span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">ios</span><span class="sc10">::</span><span class="sc11">beg</span><span class="sc10">);</span><span class="sc0">

    </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">infile_size</span><span class="sc0"> </span><span class="sc10">&lt;</span><span class="sc0"> </span><span class="sc4">4</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">cout</span><span class="sc0"> </span><span class="sc10">&lt;&lt;</span><span class="sc0"> </span><span class="sc6">"File is too small to operate on, under 4 bytes, really? Exiting.\n"</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">exit</span><span class="sc10">(</span><span class="sc4">1</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">

    </span><span class="sc11">infile</span><span class="sc10">.</span><span class="sc11">read</span><span class="sc10">(</span><span class="sc11">buffer</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">4</span><span class="sc10">);</span><span class="sc0">  
    </span><span class="sc11">encoding</span><span class="sc0"> </span><span class="sc11">infile_encoding</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">encoding</span><span class="sc10">::</span><span class="sc11">UTF8</span><span class="sc10">;</span><span class="sc0">
    
    </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc16">unsigned</span><span class="sc0"> </span><span class="sc16">char</span><span class="sc10">(</span><span class="sc11">buffer</span><span class="sc10">[</span><span class="sc4">0</span><span class="sc10">])</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc4">0xEF</span><span class="sc0"> </span><span class="sc10">&amp;&amp;</span><span class="sc0"> </span><span class="sc16">unsigned</span><span class="sc0"> </span><span class="sc16">char</span><span class="sc10">(</span><span class="sc11">buffer</span><span class="sc10">[</span><span class="sc4">1</span><span class="sc10">])</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc4">0xBB</span><span class="sc0"> </span><span class="sc10">&amp;&amp;</span><span class="sc0"> </span><span class="sc16">unsigned</span><span class="sc0"> </span><span class="sc16">char</span><span class="sc10">(</span><span class="sc11">buffer</span><span class="sc10">[</span><span class="sc4">2</span><span class="sc10">])</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc4">0xBF</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">infile_encoding</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">encoding</span><span class="sc10">::</span><span class="sc11">UTF8BOM</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">cout</span><span class="sc0"> </span><span class="sc10">&lt;&lt;</span><span class="sc0"> </span><span class="sc6">"Detected UTF-8 BOM.\n"</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">infile</span><span class="sc10">.</span><span class="sc11">seekg</span><span class="sc10">(</span><span class="sc4">3</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">ios</span><span class="sc10">::</span><span class="sc11">beg</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">outfile</span><span class="sc10">.</span><span class="sc11">write</span><span class="sc10">(</span><span class="sc11">buffer</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">3</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">
    </span><span class="sc5">else</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc16">unsigned</span><span class="sc0"> </span><span class="sc16">char</span><span class="sc10">(</span><span class="sc11">buffer</span><span class="sc10">[</span><span class="sc4">0</span><span class="sc10">])</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc4">0xFF</span><span class="sc0"> </span><span class="sc10">&amp;&amp;</span><span class="sc0"> </span><span class="sc16">unsigned</span><span class="sc0"> </span><span class="sc16">char</span><span class="sc10">(</span><span class="sc11">buffer</span><span class="sc10">[</span><span class="sc4">1</span><span class="sc10">])</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc4">0xFE</span><span class="sc0"> </span><span class="sc10">&amp;&amp;</span><span class="sc0"> </span><span class="sc16">unsigned</span><span class="sc0"> </span><span class="sc16">char</span><span class="sc10">(</span><span class="sc11">buffer</span><span class="sc10">[</span><span class="sc4">2</span><span class="sc10">])</span><span class="sc0"> </span><span class="sc10">!=</span><span class="sc4">0x00</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">infile_encoding</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">encoding</span><span class="sc10">::</span><span class="sc11">UTF16LE</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">cout</span><span class="sc0"> </span><span class="sc10">&lt;&lt;</span><span class="sc0"> </span><span class="sc6">"Detected UTF-16 LE BOM.\n"</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">infile</span><span class="sc10">.</span><span class="sc11">seekg</span><span class="sc10">(</span><span class="sc4">2</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">ios</span><span class="sc10">::</span><span class="sc11">beg</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">outfile</span><span class="sc10">.</span><span class="sc11">write</span><span class="sc10">(</span><span class="sc11">buffer</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">2</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">
    </span><span class="sc5">else</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc16">unsigned</span><span class="sc0"> </span><span class="sc16">char</span><span class="sc10">(</span><span class="sc11">buffer</span><span class="sc10">[</span><span class="sc4">0</span><span class="sc10">])</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc4">0xFE</span><span class="sc0"> </span><span class="sc10">&amp;&amp;</span><span class="sc0"> </span><span class="sc16">unsigned</span><span class="sc0"> </span><span class="sc16">char</span><span class="sc10">(</span><span class="sc11">buffer</span><span class="sc10">[</span><span class="sc4">1</span><span class="sc10">])</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc4">0xFF</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">infile_encoding</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">encoding</span><span class="sc10">::</span><span class="sc11">UTF16BE</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">cout</span><span class="sc0"> </span><span class="sc10">&lt;&lt;</span><span class="sc0"> </span><span class="sc6">"Detected UTF-16 BE BOM.\n"</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">infile</span><span class="sc10">.</span><span class="sc11">seekg</span><span class="sc10">(</span><span class="sc4">2</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">ios</span><span class="sc10">::</span><span class="sc11">beg</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">outfile</span><span class="sc10">.</span><span class="sc11">write</span><span class="sc10">(</span><span class="sc11">buffer</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">2</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">
    </span><span class="sc5">else</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc16">unsigned</span><span class="sc0"> </span><span class="sc16">char</span><span class="sc10">(</span><span class="sc11">buffer</span><span class="sc10">[</span><span class="sc4">0</span><span class="sc10">])</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc4">0xFF</span><span class="sc0"> </span><span class="sc10">&amp;&amp;</span><span class="sc0"> </span><span class="sc16">unsigned</span><span class="sc0"> </span><span class="sc16">char</span><span class="sc10">(</span><span class="sc11">buffer</span><span class="sc10">[</span><span class="sc4">1</span><span class="sc10">])</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc4">0xFE</span><span class="sc0"> </span><span class="sc10">&amp;&amp;</span><span class="sc0"> </span><span class="sc16">unsigned</span><span class="sc0"> </span><span class="sc16">char</span><span class="sc10">(</span><span class="sc11">buffer</span><span class="sc10">[</span><span class="sc4">2</span><span class="sc10">])</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc4">0x00</span><span class="sc0"> </span><span class="sc10">&amp;&amp;</span><span class="sc0"> </span><span class="sc16">unsigned</span><span class="sc0"> </span><span class="sc16">char</span><span class="sc10">(</span><span class="sc11">buffer</span><span class="sc10">[</span><span class="sc4">3</span><span class="sc10">])</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc4">0x00</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">infile_encoding</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">encoding</span><span class="sc10">::</span><span class="sc11">UTF32LE</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">cout</span><span class="sc0"> </span><span class="sc10">&lt;&lt;</span><span class="sc0"> </span><span class="sc6">"Detected UTF-32 LE BOM.\n"</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">infile</span><span class="sc10">.</span><span class="sc11">seekg</span><span class="sc10">(</span><span class="sc4">4</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">ios</span><span class="sc10">::</span><span class="sc11">beg</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">outfile</span><span class="sc10">.</span><span class="sc11">write</span><span class="sc10">(</span><span class="sc11">buffer</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">4</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">
    </span><span class="sc5">else</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc16">unsigned</span><span class="sc0"> </span><span class="sc16">char</span><span class="sc10">(</span><span class="sc11">buffer</span><span class="sc10">[</span><span class="sc4">0</span><span class="sc10">])</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc4">0x00</span><span class="sc0"> </span><span class="sc10">&amp;&amp;</span><span class="sc0"> </span><span class="sc16">unsigned</span><span class="sc0"> </span><span class="sc16">char</span><span class="sc10">(</span><span class="sc11">buffer</span><span class="sc10">[</span><span class="sc4">1</span><span class="sc10">])</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc4">0x00</span><span class="sc0"> </span><span class="sc10">&amp;&amp;</span><span class="sc0"> </span><span class="sc16">unsigned</span><span class="sc0"> </span><span class="sc16">char</span><span class="sc10">(</span><span class="sc11">buffer</span><span class="sc10">[</span><span class="sc4">2</span><span class="sc10">])</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc4">0xFE</span><span class="sc0"> </span><span class="sc10">&amp;&amp;</span><span class="sc0"> </span><span class="sc16">unsigned</span><span class="sc0"> </span><span class="sc16">char</span><span class="sc10">(</span><span class="sc11">buffer</span><span class="sc10">[</span><span class="sc4">3</span><span class="sc10">])</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc4">0xFF</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">infile_encoding</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">encoding</span><span class="sc10">::</span><span class="sc11">UTF32BE</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">cout</span><span class="sc0"> </span><span class="sc10">&lt;&lt;</span><span class="sc0"> </span><span class="sc6">"Detected UTF-32 BE BOM.\n"</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">infile</span><span class="sc10">.</span><span class="sc11">seekg</span><span class="sc10">(</span><span class="sc4">4</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">ios</span><span class="sc10">::</span><span class="sc11">beg</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">outfile</span><span class="sc10">.</span><span class="sc11">write</span><span class="sc10">(</span><span class="sc11">buffer</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">4</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">
    </span><span class="sc5">else</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">infile</span><span class="sc10">.</span><span class="sc11">seekg</span><span class="sc10">(</span><span class="sc4">0</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">ios</span><span class="sc10">::</span><span class="sc11">beg</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">cout</span><span class="sc0"> </span><span class="sc10">&lt;&lt;</span><span class="sc0"> </span><span class="sc6">"No BOM recognized, proceeding with UTF-8 no BOM encoding.\n"</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">

    </span><span class="sc16">unsigned</span><span class="sc0"> </span><span class="sc16">short</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">buffer_feed</span><span class="sc10">{</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc0"> </span><span class="sc10">};</span><span class="sc0">

    </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">infile_size</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc11">infile</span><span class="sc10">.</span><span class="sc11">tellg</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">&lt;</span><span class="sc0"> </span><span class="sc11">buffer_size</span><span class="sc0"> </span><span class="sc10">&amp;&amp;</span><span class="sc0"> </span><span class="sc11">infile_size</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc11">infile</span><span class="sc10">.</span><span class="sc11">tellg</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">&gt;</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">buffer_feed</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">infile_size</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc11">infile</span><span class="sc10">.</span><span class="sc11">tellg</span><span class="sc10">();</span><span class="sc0">
        </span><span class="sc11">infile</span><span class="sc10">.</span><span class="sc11">read</span><span class="sc10">(</span><span class="sc11">buffer</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">infile_size</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc11">infile</span><span class="sc10">.</span><span class="sc11">tellg</span><span class="sc10">());</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">
    </span><span class="sc5">else</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">infile_size</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc11">infile</span><span class="sc10">.</span><span class="sc11">tellg</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">&gt;=</span><span class="sc0"> </span><span class="sc4">2048</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
        </span><span class="sc11">buffer_feed</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">buffer_size</span><span class="sc10">;</span><span class="sc0">
        </span><span class="sc11">infile</span><span class="sc10">.</span><span class="sc11">read</span><span class="sc10">(</span><span class="sc11">buffer</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">buffer_size</span><span class="sc10">);</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">

    </span><span class="sc16">unsigned</span><span class="sc0"> </span><span class="sc16">long</span><span class="sc0"> </span><span class="sc16">long</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">line_end_count</span><span class="sc10">{};</span><span class="sc0">

    </span><span class="sc5">while</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">buffer_feed</span><span class="sc0"> </span><span class="sc10">&gt;</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">

        </span><span class="sc5">for</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc16">unsigned</span><span class="sc0"> </span><span class="sc16">short</span><span class="sc0"> </span><span class="sc16">int</span><span class="sc0"> </span><span class="sc11">i</span><span class="sc10">{};</span><span class="sc0"> </span><span class="sc11">i</span><span class="sc0"> </span><span class="sc10">&lt;</span><span class="sc0"> </span><span class="sc11">buffer_feed</span><span class="sc10">;</span><span class="sc0"> </span><span class="sc11">i</span><span class="sc10">++)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">

            </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc16">unsigned</span><span class="sc0"> </span><span class="sc16">char</span><span class="sc10">(</span><span class="sc11">buffer</span><span class="sc10">[</span><span class="sc11">i</span><span class="sc10">])</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc4">0x0A</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
                </span><span class="sc11">line_end_count</span><span class="sc10">++;</span><span class="sc0">
            </span><span class="sc10">}</span><span class="sc0">

            </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">line_end_count</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc11">max_lines</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">

                </span><span class="sc5">switch</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">infile_encoding</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
                </span><span class="sc5">case</span><span class="sc0"> </span><span class="sc11">encoding</span><span class="sc10">::</span><span class="sc11">UTF8</span><span class="sc10">:</span><span class="sc0">
                    </span><span class="sc11">outfile</span><span class="sc10">.</span><span class="sc11">write</span><span class="sc10">(</span><span class="sc11">buffer</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">i</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc4">1</span><span class="sc10">);</span><span class="sc0">
                    </span><span class="sc11">infile</span><span class="sc10">.</span><span class="sc11">seekg</span><span class="sc10">(-(</span><span class="sc11">buffer_feed</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc11">i</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc4">1</span><span class="sc10">),</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">ios</span><span class="sc10">::</span><span class="sc11">cur</span><span class="sc10">);</span><span class="sc0">
                    </span><span class="sc5">break</span><span class="sc10">;</span><span class="sc0">
                </span><span class="sc5">case</span><span class="sc0"> </span><span class="sc11">encoding</span><span class="sc10">::</span><span class="sc11">UTF8BOM</span><span class="sc10">:</span><span class="sc0">
                    </span><span class="sc11">outfile</span><span class="sc10">.</span><span class="sc11">write</span><span class="sc10">(</span><span class="sc11">buffer</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">i</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc4">1</span><span class="sc10">);</span><span class="sc0">
                    </span><span class="sc11">infile</span><span class="sc10">.</span><span class="sc11">seekg</span><span class="sc10">(-(</span><span class="sc11">buffer_feed</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc11">i</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc4">1</span><span class="sc10">),</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">ios</span><span class="sc10">::</span><span class="sc11">cur</span><span class="sc10">);</span><span class="sc0">
                    </span><span class="sc5">break</span><span class="sc10">;</span><span class="sc0">
                </span><span class="sc5">case</span><span class="sc0"> </span><span class="sc11">encoding</span><span class="sc10">::</span><span class="sc11">UTF16LE</span><span class="sc10">:</span><span class="sc0">
                    </span><span class="sc11">outfile</span><span class="sc10">.</span><span class="sc11">write</span><span class="sc10">(</span><span class="sc11">buffer</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">i</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc4">2</span><span class="sc10">);</span><span class="sc0">
                    </span><span class="sc11">infile</span><span class="sc10">.</span><span class="sc11">seekg</span><span class="sc10">(-(</span><span class="sc11">buffer_feed</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc11">i</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc4">2</span><span class="sc10">),</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">ios</span><span class="sc10">::</span><span class="sc11">cur</span><span class="sc10">);</span><span class="sc0">
                    </span><span class="sc5">break</span><span class="sc10">;</span><span class="sc0">
                </span><span class="sc5">case</span><span class="sc0"> </span><span class="sc11">encoding</span><span class="sc10">::</span><span class="sc11">UTF16BE</span><span class="sc10">:</span><span class="sc0">
                    </span><span class="sc11">outfile</span><span class="sc10">.</span><span class="sc11">write</span><span class="sc10">(</span><span class="sc11">buffer</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">i</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc4">3</span><span class="sc10">);</span><span class="sc0">
                    </span><span class="sc11">infile</span><span class="sc10">.</span><span class="sc11">seekg</span><span class="sc10">(-(</span><span class="sc11">buffer_feed</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc11">i</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc4">1</span><span class="sc10">),</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">ios</span><span class="sc10">::</span><span class="sc11">cur</span><span class="sc10">);</span><span class="sc0">
                    </span><span class="sc5">break</span><span class="sc10">;</span><span class="sc0">
                </span><span class="sc5">case</span><span class="sc0"> </span><span class="sc11">encoding</span><span class="sc10">::</span><span class="sc11">UTF32LE</span><span class="sc10">:</span><span class="sc0">
                    </span><span class="sc11">outfile</span><span class="sc10">.</span><span class="sc11">write</span><span class="sc10">(</span><span class="sc11">buffer</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">i</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc4">4</span><span class="sc10">);</span><span class="sc0">
                    </span><span class="sc11">infile</span><span class="sc10">.</span><span class="sc11">seekg</span><span class="sc10">(-(</span><span class="sc11">buffer_feed</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc11">i</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc4">4</span><span class="sc10">),</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">ios</span><span class="sc10">::</span><span class="sc11">cur</span><span class="sc10">);</span><span class="sc0">
                    </span><span class="sc5">break</span><span class="sc10">;</span><span class="sc0">
                </span><span class="sc5">case</span><span class="sc0"> </span><span class="sc11">encoding</span><span class="sc10">::</span><span class="sc11">UTF32BE</span><span class="sc10">:</span><span class="sc0">
                    </span><span class="sc11">outfile</span><span class="sc10">.</span><span class="sc11">write</span><span class="sc10">(</span><span class="sc11">buffer</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">i</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc4">7</span><span class="sc10">);</span><span class="sc0">
                    </span><span class="sc11">infile</span><span class="sc10">.</span><span class="sc11">seekg</span><span class="sc10">(-(</span><span class="sc11">buffer_feed</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc11">i</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc4">1</span><span class="sc10">),</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">ios</span><span class="sc10">::</span><span class="sc11">cur</span><span class="sc10">);</span><span class="sc0">
                    </span><span class="sc5">break</span><span class="sc10">;</span><span class="sc0">
                </span><span class="sc10">}</span><span class="sc0">

                </span><span class="sc11">outfile</span><span class="sc10">.</span><span class="sc11">close</span><span class="sc10">();</span><span class="sc0">
                </span><span class="sc11">line_end_count</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">;</span><span class="sc0">
                </span><span class="sc11">buffer_feed</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">;</span><span class="sc0">   
                </span><span class="sc5">break</span><span class="sc10">;</span><span class="sc0">
            </span><span class="sc10">}</span><span class="sc0">

            </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">i</span><span class="sc10">+</span><span class="sc4">1</span><span class="sc0"> </span><span class="sc10">==</span><span class="sc0"> </span><span class="sc11">buffer_feed</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
                </span><span class="sc11">outfile</span><span class="sc10">.</span><span class="sc11">write</span><span class="sc10">(</span><span class="sc11">buffer</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">buffer_feed</span><span class="sc10">);</span><span class="sc0">
                </span><span class="sc11">buffer_feed</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">;</span><span class="sc0">
            </span><span class="sc10">}</span><span class="sc0">
        </span><span class="sc10">}</span><span class="sc0">
     
        </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">infile_size</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc11">infile</span><span class="sc10">.</span><span class="sc11">tellg</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">&lt;</span><span class="sc0"> </span><span class="sc11">buffer_size</span><span class="sc0"> </span><span class="sc10">&amp;&amp;</span><span class="sc0"> </span><span class="sc11">infile_size</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc11">infile</span><span class="sc10">.</span><span class="sc11">tellg</span><span class="sc10">()</span><span class="sc0"> </span><span class="sc10">&gt;</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
            </span><span class="sc11">buffer_feed</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">infile_size</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc11">infile</span><span class="sc10">.</span><span class="sc11">tellg</span><span class="sc10">();</span><span class="sc0">
            </span><span class="sc11">infile</span><span class="sc10">.</span><span class="sc11">read</span><span class="sc10">(</span><span class="sc11">buffer</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">infile_size</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc11">infile</span><span class="sc10">.</span><span class="sc11">tellg</span><span class="sc10">());</span><span class="sc0">
        </span><span class="sc10">}</span><span class="sc0">
        </span><span class="sc5">else</span><span class="sc0"> </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">infile_size</span><span class="sc0"> </span><span class="sc10">-</span><span class="sc0"> </span><span class="sc11">infile</span><span class="sc10">.</span><span class="sc11">tellg</span><span class="sc10">()&gt;=</span><span class="sc4">2048</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
            </span><span class="sc11">buffer_feed</span><span class="sc0"> </span><span class="sc10">=</span><span class="sc0"> </span><span class="sc11">buffer_size</span><span class="sc10">;</span><span class="sc0">
            </span><span class="sc11">infile</span><span class="sc10">.</span><span class="sc11">read</span><span class="sc10">(</span><span class="sc11">buffer</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">buffer_size</span><span class="sc10">);</span><span class="sc0">
        </span><span class="sc10">}</span><span class="sc0">

        </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">buffer_feed</span><span class="sc0"> </span><span class="sc10">&gt;</span><span class="sc0"> </span><span class="sc4">0</span><span class="sc0"> </span><span class="sc10">&amp;&amp;</span><span class="sc0"> </span><span class="sc10">!</span><span class="sc11">outfile</span><span class="sc10">.</span><span class="sc11">is_open</span><span class="sc10">())</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
            </span><span class="sc11">outfile_part</span><span class="sc10">++;</span><span class="sc0">
            </span><span class="sc11">outfile</span><span class="sc10">.</span><span class="sc11">open</span><span class="sc10">(</span><span class="sc11">save_path</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">"_part"</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">to_string</span><span class="sc10">(</span><span class="sc11">outfile_part</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc6">"."</span><span class="sc0"> </span><span class="sc10">+</span><span class="sc0"> </span><span class="sc11">extension</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">ios</span><span class="sc10">::</span><span class="sc11">out</span><span class="sc0"> </span><span class="sc10">|</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">ios</span><span class="sc10">::</span><span class="sc11">app</span><span class="sc0"> </span><span class="sc10">|</span><span class="sc0"> </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">ios</span><span class="sc10">::</span><span class="sc11">binary</span><span class="sc10">);</span><span class="sc0">

            </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(!</span><span class="sc11">outfile</span><span class="sc10">.</span><span class="sc11">good</span><span class="sc10">())</span><span class="sc0"> </span><span class="sc11">outfile_is_good</span><span class="sc10">(</span><span class="sc11">outfile</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">save_path</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">outfile_part</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc11">extension</span><span class="sc10">);</span><span class="sc0">

            </span><span class="sc5">switch</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">infile_encoding</span><span class="sc10">)</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
            </span><span class="sc5">case</span><span class="sc0"> </span><span class="sc11">encoding</span><span class="sc10">::</span><span class="sc11">UTF8BOM</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
                </span><span class="sc16">char</span><span class="sc0"> </span><span class="sc11">UTF8BOM</span><span class="sc10">[]{</span><span class="sc0"> </span><span class="sc4">0xEF</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0xBB</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0xBF</span><span class="sc0"> </span><span class="sc10">};</span><span class="sc0">
                </span><span class="sc11">outfile</span><span class="sc10">.</span><span class="sc11">write</span><span class="sc10">(</span><span class="sc11">UTF8BOM</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">3</span><span class="sc10">);</span><span class="sc0">
            </span><span class="sc10">}</span><span class="sc0">
            </span><span class="sc5">break</span><span class="sc10">;</span><span class="sc0">
            </span><span class="sc5">case</span><span class="sc0"> </span><span class="sc11">encoding</span><span class="sc10">::</span><span class="sc11">UTF16LE</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
                </span><span class="sc16">char</span><span class="sc0"> </span><span class="sc11">UTF16LE</span><span class="sc10">[]{</span><span class="sc0"> </span><span class="sc4">0xFF</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0xFE</span><span class="sc0"> </span><span class="sc10">};</span><span class="sc0">
                </span><span class="sc11">outfile</span><span class="sc10">.</span><span class="sc11">write</span><span class="sc10">(</span><span class="sc11">UTF16LE</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">2</span><span class="sc10">);</span><span class="sc0">
            </span><span class="sc10">}</span><span class="sc0">
            </span><span class="sc5">break</span><span class="sc10">;</span><span class="sc0">
            </span><span class="sc5">case</span><span class="sc0"> </span><span class="sc11">encoding</span><span class="sc10">::</span><span class="sc11">UTF16BE</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
                </span><span class="sc16">char</span><span class="sc0"> </span><span class="sc11">UTF16BE</span><span class="sc10">[]{</span><span class="sc0"> </span><span class="sc4">0xFE</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0xFF</span><span class="sc0"> </span><span class="sc10">};</span><span class="sc0">
                </span><span class="sc11">outfile</span><span class="sc10">.</span><span class="sc11">write</span><span class="sc10">(</span><span class="sc11">UTF16BE</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">2</span><span class="sc10">);</span><span class="sc0">
            </span><span class="sc10">}</span><span class="sc0">
            </span><span class="sc5">break</span><span class="sc10">;</span><span class="sc0">
            </span><span class="sc5">case</span><span class="sc0"> </span><span class="sc11">encoding</span><span class="sc10">::</span><span class="sc11">UTF32LE</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
                </span><span class="sc16">char</span><span class="sc0"> </span><span class="sc11">UTF32LE</span><span class="sc10">[]{</span><span class="sc0"> </span><span class="sc4">0xFF</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0xFE</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0x00</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0x00</span><span class="sc0"> </span><span class="sc10">};</span><span class="sc0">
                </span><span class="sc11">outfile</span><span class="sc10">.</span><span class="sc11">write</span><span class="sc10">(</span><span class="sc11">UTF32LE</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">4</span><span class="sc10">);</span><span class="sc0">
            </span><span class="sc10">}</span><span class="sc0">
            </span><span class="sc5">break</span><span class="sc10">;</span><span class="sc0">
            </span><span class="sc5">case</span><span class="sc0"> </span><span class="sc11">encoding</span><span class="sc10">::</span><span class="sc11">UTF32BE</span><span class="sc10">:</span><span class="sc0"> </span><span class="sc10">{</span><span class="sc0">
                </span><span class="sc16">char</span><span class="sc0"> </span><span class="sc11">UTF32BE</span><span class="sc10">[]{</span><span class="sc0"> </span><span class="sc4">0x00</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0x00</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0xFE</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">0xFF</span><span class="sc0"> </span><span class="sc10">};</span><span class="sc0">
                </span><span class="sc11">outfile</span><span class="sc10">.</span><span class="sc11">write</span><span class="sc10">(</span><span class="sc11">UTF32BE</span><span class="sc10">,</span><span class="sc0"> </span><span class="sc4">4</span><span class="sc10">);</span><span class="sc0">
            </span><span class="sc10">}</span><span class="sc0">
            </span><span class="sc5">break</span><span class="sc10">;</span><span class="sc0">
            </span><span class="sc10">}</span><span class="sc0">
        </span><span class="sc10">}</span><span class="sc0">
    </span><span class="sc10">}</span><span class="sc0">

    </span><span class="sc11">infile</span><span class="sc10">.</span><span class="sc11">close</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc5">if</span><span class="sc0"> </span><span class="sc10">(</span><span class="sc11">outfile</span><span class="sc10">.</span><span class="sc11">is_open</span><span class="sc10">())</span><span class="sc0"> </span><span class="sc11">outfile</span><span class="sc10">.</span><span class="sc11">close</span><span class="sc10">();</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">cout</span><span class="sc0"> </span><span class="sc10">&lt;&lt;</span><span class="sc0"> </span><span class="sc6">"Program finished. Number of parts: "</span><span class="sc0"> </span><span class="sc10">&lt;&lt;</span><span class="sc0"> </span><span class="sc11">outfile_part</span><span class="sc0"> </span><span class="sc10">&lt;&lt;</span><span class="sc0"> </span><span class="sc6">"\n"</span><span class="sc10">;</span><span class="sc0">
    </span><span class="sc11">std</span><span class="sc10">::</span><span class="sc11">system</span><span class="sc10">(</span><span class="sc6">"pause"</span><span class="sc10">);</span><span class="sc0">
</span><span class="sc10">}</span></div>


</div>
